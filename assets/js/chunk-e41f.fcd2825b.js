(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e41f"],{"32c5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjcxODBFRUI2RjFFNTExRTdCMEI0RUQzRTU2QkNGNkYxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjcxODBFRUI3RjFFNTExRTdCMEI0RUQzRTU2QkNGNkYxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzE4MEVFQjRGMUU1MTFFN0IwQjRFRDNFNTZCQ0Y2RjEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzE4MEVFQjVGMUU1MTFFN0IwQjRFRDNFNTZCQ0Y2RjEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7Ujq/1AAAEHklEQVR42oxVaWhcVRQ+97xlMtEs1tqQZqmN47QzbYINAUUpBrQgaJsgdYFKoa244PLDgH+CBTGkBUGw/rGIQdHYPxZbbLFg/NWqtYiDiFnthGm1sXY66iSd5b1573rOm6WTeS95Hhgyuec73z33LN8IKzEP8srvYM9OA+RzINbcjmCaDXJpcdD+49IOe2pym0wl1wGZWLP2L4xEY9jW+bW4teEEaNqi/Dtlgx4A3BQB0doGKlSbEDoYxu7C6RPD9uVEFEwDIFAHoCiOW15dWGtdmo9amr4HOzZMqo8OjlDMcXIZZQqsIgvKbOaQcfTIuJ2IR0Glu+pvqZA5xt/5jHyMMY6+9xnFjHLsckJETd5YesscH3uNnMWs+G+12TalKMuXlzAA5qcfDnEscxQJySnT/z5eGB8bErUZVcism2TVRliO4VjmYC6EgtlofvzBCDAePciMPKcE6lN7Abf1UePyy/0cQ7EOB3GhPTP9mIzPhqCuzk1WKAB3UH16L+gvvAoY2QrSyLtxFCt/mwkxl2pd+HYnv0bUgkwTxPo20J59CdSHHimeZbPu2paMH2hd+G4nWtOT3SLgzo4zUfruA6WnF8yx94tNURBWMuawZn7tRrh+rcWrEQ7g558g98oBMD8iQhQrZlcZqevJFhWkrXgCNA3k/EWAXAZEWwd4FMVjGqRA0dScAsvyKApVJRAAaGiE/2XEIRqb/kHc0DVH67Yy0Gv+vIw4cGPXLGI4MuEM7mpWrh2v40oXEAcJxAQq2/s/h5bWtF+WkkeGxcKrMRxLHMoD/cdRhCMJbWD3EZnJlKYJXJvAZMboQbC+PwciGHRNIMcSx7sivDmBvEq4acs7yv3bz8l02vu5tDGF01+AjFPXVW05HcVQ7FnmYC4hMzdAJq/xIEfyB18/KS/O3u10trZWTFx9xv8vpkGEwnOBN98eELo+Je5YV1Qb0boesCs0pe1/8QB2dC4AXeKqVS0ZYbC984q2j2LuCk3xmhbVpiwC/PQ7u84qA088B8H6JcjlvBvAZ+wjjDL45PMc4ygQcyxT7FK36HfhlD40/LIzIiWQS4HIxxjK6lTtdLi3nVQGt/R8ou3Zd9hRl1rLZEF7Zv9hxjDWNRS8s5UPYrFWpmmL9s5DeE9fjHe5YtkMYG9fjH2McbAcU8UhrNiPN+vOtWABZTnLZ3n+dhmjb5ysqBHtqz48sotm8UsIBJ2fXRZgwTtfztAZm9LHWUG+yaI6aTqI5tu+Epu3/uA8zSDBjXafp7Mz7CtiNCemmkOVyeRqW2yq/TuOGb/E7uUl0h58+Jj8c8FcLUDF9g4/YZjApman3Uo48o2f+qjW5YSfMM3RzF3l+SPsnB9YdWrho3RmsD7FPVOtguFLmIrHfbVT9vSe4Z3JsTj42H8CDADgVtJrGKxtnwAAAABJRU5ErkJggg=="},"41f9":function(e,t,a){"use strict";var i,o=a("a322"),l=(a("7f7f"),a("c93e")),n=a("9bd2"),s=a("ba4a"),r=Object(l["a"])({},s["a"],(i={requestSavePeopleInfo:function(e,t){Object(n["a"])({url:"/compre/hp/people/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdatePeopleInfo:function(e,t){Object(n["a"])({url:"/compre/hp/people/update",method:"post",data:e}).then(function(e){t(e)})},requestBasePeople:function(e,t){Object(n["a"])({url:"/compre/hp/people/find?id="+e,method:"get"}).then(function(e){t(e)})},requestHouse:function(e){Object(n["a"])({url:"/compre/hp/house/findPage?page=1&pageSize=1000",method:"get"}).then(function(t){e(t)})},requestPageImportantYoungsters:function(e,t){Object(n["a"])({url:"/compre/hp/people/young/findPage?name="+e.queryForm.name+"&districtCode="+e.queryForm.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveImportantYoungsters:function(e,t){Object(n["a"])({url:"/compre/hp/people/young/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateImportantYoungsters:function(e,t){Object(n["a"])({url:"/compre/hp/people/young/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteImportantYoungsters:function(e,t){Object(n["a"])({url:"/compre/hp/people/young/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestFocus:function(e,t){Object(n["a"])({url:"/compre/"+e.entity+"/find?id="+e.focusId,method:"get"}).then(function(e){t(e)})},requestFocusPeople:function(e,t){Object(n["a"])({url:"/compre/hp/people/find/compreInfo?id="+e,method:"get"}).then(function(e){t(e)})},requestPageHousePeople:function(e,t){Object(n["a"])({url:"/compre/hp/people/house/findPage?name="+e.name+"&houseId="+e.houseId+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})}},Object(o["a"])(i,"requestFocusPeople",function(e,t){Object(n["a"])({url:"/compre/hp/people/find/compreInfo?id="+e,method:"get"}).then(function(e){t(e)})}),Object(o["a"])(i,"requestFocus",function(e,t){Object(n["a"])({url:"/compre/"+e.entity+"/find?id="+e.focusId,method:"get"}).then(function(e){t(e)})}),i));t["a"]=r},6001:function(e,t,a){},7704:function(e,t,a){},"89cc":function(e,t,a){"use strict";var i=a("6001"),o=a.n(i);o.a},"9ecc":function(e,t,a){"use strict";var i=a("7704"),o=a.n(i);o.a},b7e8:function(e,t,a){e.exports=a.p+"assets/img/photo.c944b596.jpg"},b8ae:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-list-page"},[a("techo-list",{ref:"list",attrs:{title:e.title,header:e.header,data:e.data,isShowCode:e.isShowCode,recordCount:e.recordCount,disCodeOption:e.disCodeOption},on:{onAdd:e.handleAdd,onPageChange:e.handlePageChange,onDelete:e.handleDelete,onView:e.handleView,onEdit:e.handleEdit,onTreeNode:e.handleTreeNode}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("el-row",{staticClass:"techo-list__header-row",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:10}},[a("span",{staticClass:"techo-list__header-col-txt-4"},[e._v("姓名：")]),a("div",{staticClass:"techo-list__header-col-left-4"},[a("el-input",{staticClass:"techo-list__header-select-full",attrs:{placeholder:"请输入姓名",maxlength:10,size:"small",clearable:""},model:{value:e.queryForm.name,callback:function(t){e.$set(e.queryForm,"name",t)},expression:"queryForm.name"}})],1)]),a("el-col",{attrs:{span:9}}),a("el-col",{staticClass:"techo-list__header-col-button",attrs:{span:5}},[a("el-button",{staticClass:"techo-list__header-button-reset",attrs:{size:"small"},on:{click:e.handleClear}},[e._v("清空")]),a("el-button",{staticClass:"techo-list__header-button-query",attrs:{size:"small"},on:{click:e.handleQuery}},[e._v("查询")])],1)],1)],1)]),a("vViewDialog",{ref:"vViewDialog",attrs:{height:"80%",width:"85%",layout:e.layout,title:e.title}}),a("vAddDialog",{ref:"vAddDialog",attrs:{disCodeOption:e.disCodeOption}})],1)},o=[],l=a("41f9"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"add-dialog",attrs:{title:e.title,visible:e.dialogVisible,fullscreen:""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.resetForm}},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[a("techo-people",{ref:"vBaseForm",attrs:{isAdd:e.isAdd,dic:e.dic,houseOptions:e.houseOptions,disCodeOption:e.disCodeOption},on:{onBasePeople:e.handleQueryBasePeople}})],1),a("el-tab-pane",{attrs:{label:"附加信息",name:"second"}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.teamRules,"label-width":"120px"}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"人员类型",prop:"personType"}},[a("el-select",{attrs:{placeholder:"请选择人员类型",clearable:""},model:{value:e.dialogForm.personType,callback:function(t){e.$set(e.dialogForm,"personType",t)},expression:"dialogForm.personType"}},e._l(e.dic["人员类型"],function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"家庭情况",prop:"familySituation"}},[a("el-select",{attrs:{placeholder:"请选择家庭情况",clearable:""},model:{value:e.dialogForm.familySituation,callback:function(t){e.$set(e.dialogForm,"familySituation",t)},expression:"dialogForm.familySituation"}},e._l(e.dic["家庭情况"],function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"监护人公民身份号码",prop:"guardianCardnumber","label-width":"150px"}},[a("el-input",{attrs:{maxlength:18,placeholder:"请填写监护人公民身份号码"},model:{value:e.dialogForm.guardianCardnumber,callback:function(t){e.$set(e.dialogForm,"guardianCardnumber",t)},expression:"dialogForm.guardianCardnumber"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"监护人姓名",prop:"guardianName"}},[a("el-input",{attrs:{maxlength:50,placeholder:"请填写监护人姓名"},model:{value:e.dialogForm.guardianName,callback:function(t){e.$set(e.dialogForm,"guardianName",t)},expression:"dialogForm.guardianName"}})],1)],1)],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"与监护人关系",prop:"guardianRelationship"}},[a("el-select",{attrs:{placeholder:"请选择与监护人关系",clearable:""},model:{value:e.dialogForm.guardianRelationship,callback:function(t){e.$set(e.dialogForm,"guardianRelationship",t)},expression:"dialogForm.guardianRelationship"}},e._l(e.dic["户主关系"],function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"监护人联系方式",prop:"guardianContact"}},[a("el-input",{attrs:{maxlength:50,placeholder:"请填写监护人联系方式"},model:{value:e.dialogForm.guardianContact,callback:function(t){e.$set(e.dialogForm,"guardianContact",t)},expression:"dialogForm.guardianContact"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"监护人居住详址",prop:"guardianAddress","label-width":"150px"}},[a("el-input",{attrs:{maxlength:200,placeholder:"请填写监护人居住详址"},model:{value:e.dialogForm.guardianAddress,callback:function(t){e.$set(e.dialogForm,"guardianAddress",t)},expression:"dialogForm.guardianAddress"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否违法犯罪"}},[a("el-radio-group",{model:{value:e.dialogForm.iscriminal,callback:function(t){e.$set(e.dialogForm,"iscriminal",t)},expression:"dialogForm.iscriminal"}},[a("el-radio",{attrs:{label:0}},[e._v("否")]),a("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1)],1)],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"违法犯罪情况"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:1024,placeholder:"请填写违法犯罪情况"},model:{value:e.dialogForm.criminalSituation,callback:function(t){e.$set(e.dialogForm,"criminalSituation",t)},expression:"dialogForm.criminalSituation"}})],1)],1)],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"帮扶人姓名",prop:"helpName"}},[a("el-input",{attrs:{maxlength:50,placeholder:"请填写帮扶人姓名"},model:{value:e.dialogForm.helpName,callback:function(t){e.$set(e.dialogForm,"helpName",t)},expression:"dialogForm.helpName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"帮扶人联系方式",prop:"helpContact"}},[a("el-input",{attrs:{maxlength:50,placeholder:"请填写监护人姓名"},model:{value:e.dialogForm.helpContact,callback:function(t){e.$set(e.dialogForm,"helpContact",t)},expression:"dialogForm.helpContact"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"帮扶手段",prop:"helpMeans","label-width":"150px"}},[a("el-select",{attrs:{placeholder:"请选择帮扶手段",clearable:""},model:{value:e.dialogForm.helpMeans,callback:function(t){e.$set(e.dialogForm,"helpMeans",t)},expression:"dialogForm.helpMeans"}},e._l(e.dic["帮扶手段"],function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1)],1),a("el-col",{attrs:{span:6}})],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"帮扶情况"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:1024,placeholder:"请填写帮扶情况"},model:{value:e.dialogForm.helpSituation,callback:function(t){e.$set(e.dialogForm,"helpSituation",t)},expression:"dialogForm.helpSituation"}})],1)],1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["first"==e.activeName?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.activeName="second"}}},[e._v("下一步")]):e._e(),"second"==e.activeName?a("el-button",{attrs:{type:"warning",size:"small"},on:{click:e.resetForm}},[e._v("取消")]):e._e(),"second"==e.activeName?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.activeName="first"}}},[e._v("上一步")]):e._e(),"second"==e.activeName?a("el-button",{attrs:{type:"success",size:"small"},on:{click:e.submitForm}},[e._v("保存")]):e._e()],1)],1)},s=[],r=(a("7f7f"),a("ac6a"),{props:{disCodeOption:{type:Array,default:[]}},data:function(){return{dialogVisible:!1,isAdd:!0,title:"",activeName:"first",dic:{"性别":[],"民族":[],"婚姻状况":[],"政治面貌":[],"学历":[],"宗教信仰":[],"职业类别":[],"行政区划":[],"人员类型":[],"家庭情况":[],"户主关系":[],"帮扶手段":[]},houseOptions:[],dialogForm:{iscriminal:0,districtCode:""},teamRules:{personType:[{required:!0,message:"请选择人员类型",trigger:"change"}],familySituation:[{required:!0,message:"请选择家庭情况",trigger:"change"}],guardianCardnumber:[util.validate.isIDCard()],guardianName:[{required:!0,message:"请输入监护人姓名",trigger:"blur"}],guardianRelationship:[{required:!0,message:"请选择与监护人关系",trigger:"change"}],guardianContact:[util.validate.tellAndPhone()],helpName:[{required:!0,message:"请输入帮扶人姓名",trigger:"blur"}],helpContact:[util.validate.tellAndPhone()],helpMeans:[{required:!0,message:"请选择帮扶手段",trigger:"change"}]}}},created:function(){var e=this,t=this;l["a"].requestDicCatalog(function(e){var a=_.keys(t.dic);_.map(e,function(e){-1!=_.indexOf(a,e.name)&&l["a"].requestDicType(e.id,function(a){"职业类别"==e.name?t.dic[e.name]=t.handleTreeData(a):t.dic[e.name]=a})})}),l["a"].requestHouse(function(t){e.houseOptions=t.list})},watch:{activeName:function(e){var t=this;"second"==e&&this.$refs["vBaseForm"].$refs["baseForm"].validate(function(e){e||t.$nextTick(function(){t.activeName="first"})})}},methods:{handleTreeData:function(e){var t=_.map(_.filter(e,function(e){return"0000"===e.code.slice(1,5)}),function(e){return{code:e.code,label:e.name,children:[]}});return _.map(t,function(t){t.children=_.map(_.filter(e,function(e){return e.code.slice(0,1)===t.code.slice(0,1)&&"0000"!==e.code.slice(1,5)&&"00"===e.code.slice(3,5)}),function(e){return{code:e.code,label:e.name,children:[]}})}),_.map(t,function(t){_.map(t.children,function(t){t.children=_.map(_.filter(e,function(e){return e.code.slice(0,3)===t.code.slice(0,3)&&"00"!==e.code.slice(3,5)}),function(e){return{code:e.code,label:e.name}})})}),t},handleQueryBasePeople:function(e,t){l["a"].requestBasePeopleList(e,function(e){t&&t(e.list)})},submitForm:function(){var e=this;this.$refs["dialogForm"].validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=_.cloneDeep(e.$refs["vBaseForm"].baseForm);a.birthDate=a.birthDate&&util.time.formatDate(a.birthDate,"YYYY-MM-DD"),a.occupationType=_.last(a.occupationType),a.dicMap&&delete a.dicMap,a.id?l["a"].requestUpdatePeopleInfo(a,function(t){e.comminForm(t)}):l["a"].requestSavePeopleInfo(a,function(t){e.comminForm(t)})})},comminForm:function(e){var t=this,a=_.cloneDeep(this.dialogForm);if(a.dicMap&&delete a.dicMap,1==this.isAdd)a.peopleId=e.id,l["a"].requestSaveImportantYoungsters(a,function(e){t.$popup.showNotification({type:"success",message:"重点青少年添加成功！"}),t.resetForm(),t.$parent.handleQuery()});else{var i=_.pick(a,["name","personType","familySituation","guardianCardnumber","guardianName","guardianRelationship","guardianContact","guardianAddress","iscriminal","criminalSituation","helpName","helpContact","helpMeans","helpSituation","districtCode","id","peopleId"]);l["a"].requestUpdateImportantYoungsters(i,function(e){t.$popup.showNotification({type:"success",message:"重点青少年修改成功！"}),t.resetForm(),t.$parent.handleQuery()})}},resetForm:function(){this.$refs["vBaseForm"].$refs["baseForm"].resetFields(),this.$refs["dialogForm"].resetFields(),this.$refs["vBaseForm"].baseForm={},this.$data.dialogVisible=!1,this.activeName="first",this.isAdd=!0,this.dialogForm={iscriminal:0,districtCode:""}}}}),c=r,d=(a("9ecc"),a("2877")),u=Object(d["a"])(c,n,s,!1,null,null,null);u.options.__file="important-youngsters-add.vue";var p=u.exports,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{staticClass:"techo-details-wrapper",attrs:{"custom-class":e.customClass,title:e.title,visible:e.visible,width:e.width,fullscreen:"100%"==e.width,"append-to-body":""},on:{"update:visible":function(t){e.visible=t},open:e.handleOpenView}},[i("div",{staticClass:"techo-details__body"},[i("el-tabs",{staticClass:"techo-details-tabs",attrs:{value:e.current,type:"card"},on:{"tab-click":e.handleClick}},e._l(e.layout.tabs,function(t,o){return i("el-tab-pane",{key:o,attrs:{label:t,name:t}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("i",{staticClass:"el-icon-date",staticStyle:{"margin-right":"10px"}}),e._v(e._s(t))]),"content"==e.layout["tab"+o].type?i("div",{staticStyle:{height:"100%"}},[i("el-row",{staticStyle:{height:"55%"},attrs:{gutter:10,type:"flex"}},[i("el-col",{staticClass:"left-top",attrs:{span:10}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{staticStyle:{"text-align":"center"},attrs:{span:6}},[i("img",{staticStyle:{height:"120px",width:"110px"},attrs:{src:a("b7e8")}})]),i("el-col",{attrs:{span:9}},[i("div",{staticClass:"tacho-people-item"},[i("span",{staticClass:"item-title"},[e._v("姓名：")]),i("span",{staticClass:"item-value"},[e._v(e._s(e.data.name))])]),i("div",{staticClass:"tacho-people-item"},[i("span",{staticClass:"item-title"},[e._v("出生日期：")]),i("span",{staticClass:"item-value"},[e._v(e._s(e.data.birthDate&&e.data.birthDate.split(" ")[0]))])]),i("div",{staticClass:"tacho-people-item"},[i("span",{staticClass:"item-title"},[e._v("籍贯：")]),i("span",{staticClass:"item-value"},[e._v(e._s(e.data.dicMap.nativePlace))])]),i("div",{staticClass:"tacho-people-item"},[i("span",{staticClass:"item-title"},[e._v("学历：")]),i("span",{staticClass:"item-value"},[e._v(e._s(e.data.dicMap.education))])]),i("div",{staticClass:"tacho-people-item"},[i("span",{staticClass:"item-title"},[e._v("政治面貌：")]),i("span",{staticClass:"item-value"},[e._v(e._s(e.data.dicMap.politicalStatus))])])]),i("el-col",{attrs:{span:9}},[i("div",{staticClass:"tacho-people-item"},[i("span",{staticClass:"item-title"},[e._v("身份证号：")]),i("span",{staticClass:"item-value"},[e._v(e._s(e.data.idCardNo))])]),i("div",{staticClass:"tacho-people-item"},[i("span",{staticClass:"item-title"},[e._v("性别：")]),i("span",{staticClass:"item-value"},[e._v(e._s(e.data.dicMap.sex))])]),i("div",{staticClass:"tacho-people-item"},[i("span",{staticClass:"item-title"},[e._v("民族：")]),i("span",{staticClass:"item-value"},[e._v(e._s(e.data.dicMap.nation))])]),i("div",{staticClass:"tacho-people-item"},[i("span",{staticClass:"item-title"},[e._v("婚姻状况：")]),i("span",{staticClass:"item-value"},[e._v(e._s(e.data.dicMap.marriage))])]),i("div",{staticClass:"tacho-people-item"},[i("span",{staticClass:"item-title"},[e._v("宗教信仰：")]),i("span",{staticClass:"item-value"},[e._v(e._s(e.data.dicMap.religiousBelief))])])])],1),i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"techo-details-tabs-content row-border"},e._l(e.layout["tab"+o].tmpl,function(t,a){return i("el-row",{key:a,attrs:{type:"flex",justify:"space-around"}},[e._l(t,function(t,a){return[i("el-col",{staticClass:"column-title",attrs:{span:t.col[0]}},[e._v(e._s(t.title))]),i("el-col",{attrs:{span:t.col[1]}},[e._v(e._s(e.getData(t.field)))])]})],2)}))])],1),i("div",{staticClass:"other-info",on:{click:e.handleDetailsInfo}},[e._v("更多信息>>")])],1),i("el-col",{staticClass:"right-top",attrs:{span:14}},[i("el-row",[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"techo-details-tabs-content row-border"},[i("div",{staticClass:"side-ball"},[e._v("重")]),e._l(e.details.imptantYoungOther["tab"+o].tmpl,function(t,a){return i("el-row",{key:a,attrs:{type:"flex",justify:"space-around"}},[e._l(t,function(t,a){return[i("el-col",{staticClass:"column-title",attrs:{span:t.col[0]}},[e._v(e._s(t.title))]),i("el-col",{attrs:{span:t.col[1]}},[e._v(e._s(e.getData(t.field)))])]})],2)})],2)])],1)],1)],1),i("div",{staticClass:"bottom-family-table"},[i("div",{staticClass:"title"},[e._v("家庭信息")]),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.familyData,height:"calc(100% - 44px)",border:""}},[i("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),i("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180",align:"center"}}),i("el-table-column",{attrs:{prop:"dicMap.householdRelation",label:"与户主关系",align:"center"}}),i("el-table-column",{attrs:{prop:"householdName",label:"户主姓名",width:"180",align:"center"}}),i("el-table-column",{attrs:{prop:"dicMap.sex",label:"性别",align:"center"}}),i("el-table-column",{attrs:{prop:"phone",label:"联系方式",align:"center"}}),i("el-table-column",{attrs:{prop:"dicMap.marriage",label:"婚姻状况",align:"center"}}),i("el-table-column",{attrs:{prop:"idCardNo",label:"身份证号",width:"180",align:"center"}}),i("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticClass:"techo-list__body-table-button-view",attrs:{size:"mini"},on:{click:function(a){e.handleDetailsInfo(t.row,"housePeople")}}},[e._v("查看")])]}}])})],1)],1)],1):e._e(),"map"==e.layout["tab"+o].type?i("div",{staticClass:"techo-details-tabs-map"},[i("vBaseMap",{ref:"map",refInFor:!0})],1):e._e()])}))],1),e.dlgVisible?i("techo-details",{ref:"details",attrs:{configKey:e.configKey,height:"60%",title:e.title}}):e._e()],1)},h=[],f=a("3f86"),g={tabs:["基本信息","扩展信息","地图"],tab0:{type:"content",tmpl:[[{title:"字段标题1",field:"字段值1",col:[6,6]},{title:"字段标题2",field:"字段值2",col:[6,6]}]]},tab1:{type:"content"},tab2:{type:"map",display:{type:"location",lonX:"x",latY:"y"}}},b={options:{tooltip:{formatter:function(e){return e.name}},label:{normal:{show:!0,textStyle:{fontSize:12}}},series:[{name:"Les Miserables",type:"graph",layout:"force",hoverAnimation:!0,label:{normal:{show:!0,textStyle:{fontSize:12}}},symbolSize:55,force:{repulsion:800},edgeSymbolSize:[4,50],data:[{name:"",draggable:!0,symbolSize:70,itemStyle:{normal:{color:"#F05B72"}}}],links:[{source:0,target:1},{source:0,target:2},{source:0,target:3},{source:0,target:4},{source:0,target:5},{source:0,target:6},{source:0,target:7},{source:0,target:8},{source:0,target:9},{source:0,target:10}]}]},keyValue:{flowPeopleId:{name:"流动人口",color:"#1E8AFD",entity:"hp/people/flow",configKey:"flowOther"},rearPeopleId:{name:"留守人员",color:"#FFA000",entity:"hp/people/rear",configKey:"rearOther"},releasePeopleId:{name:"刑满释放",color:"#AD5EB8",entity:"hp/people/release",configKey:"releasedOther"},comCorPeopleId:{name:"社区矫正",color:"#FF446B",entity:"hp/people/comcor",configKey:"communityOther"},wreckerPeopleId:{name:"精神病患者",color:"#FF446B",entity:"hp/people/wrecker",configKey:"psychoticOther"},drugsPeopleId:{name:"吸毒人员",color:"#FF446B",entity:"hp/people/drugs",configKey:"drugsterOther"},aidsPeopleId:{name:"艾滋病人员",color:"#FF446B",entity:"hp/people/aids",configKey:"aidsOther"},vitalYoungPeopleId:{name:"重点青少年",color:"#FF446B",entity:"hp/people/young",configKey:"imptantYoungOther"},peaceSchoolRimPeoId:{name:"校园重点人",color:"#FF446B",entity:"peace/school/rim",configKey:"schoolRimPeoOther"}}},v=b,y=a("14c4"),C={components:{vBaseMap:f["a"]},props:{title:{type:String,default:"详情信息"},width:{type:String,default:"50%"},height:{type:String,default:"50%"},layout:{type:Object,default:function(){return g}}},data:function(){return{visible:!1,data:{dicMap:{sex:"",nation:"",marriage:"",politicalStatus:"",education:"",religiousBelief:"",occupationType:""}},details:y["a"],focusData:[],current:g.tabs[0],dlgVisible:!1,configKey:"housePeople",familyData:[]}},computed:{customClass:function(){return"100%"==this.width?"":"50%"==this.height?"techo-details-height-50":"60%"==this.height?"techo-details-height-60":"70%"==this.height?"techo-details-height-70":"80%"==this.height?"techo-details-height-80":"100%"==this.height?"techo-details-height-100":void 0}},methods:{handleOpenView:function(){this.$nextTick(function(){}),this.getFocusPeople(),this.getFamilyPeople()},getFocusPeople:function(){var e=_.cloneDeep(v.keyValue);l["a"].requestFocusPeople(this.data.peopleId,function(t){delete t.basePeopleId,delete t.housePeopleId,delete t.vitalYoungPeopleId;var a=[];_.map(t,function(t,i){if(null!=t){var o={name:e[i].name,value:{focusId:t,entity:e[i].entity,configKey:e[i].configKey}};a.push(o)}}),console.log(a)})},getFamilyPeople:function(){var e=this;l["a"].requestPageHousePeople({districtCode:"",name:"",houseId:this.data.houseId,page:"1",pageSize:"1000"},function(t){e.familyData=t.list})},handleDetailsInfo:function(e,t){var a=void 0==t?_.cloneDeep(this.data):e;this.configKey=t||"housePeople",this.dlgVisible=!0,this.$nextTick(function(){this.$refs["details"].data=a,this.$refs["details"].visible=!0})},handleClick:function(e,t){"map"==this.layout["tab"+e.index].type&&this.$nextTick(function(){this.$refs["map"][0].mapApi.map.resize(),this.handleInitMap(e)})},getData:function(e){return _.get(this.data,e)},handleInitMap:function(e){var t=this.layout["tab"+e.index].display;this.$refs["map"][0].mapApi.clear(),"location"==t.type&&(this.$refs["map"][0].mapApi.markerApi.addMarkers([{type:"0101",lon:this.data[t.lonX],lat:this.data[t.latY]}],{img_0101:a("32c5")}),this.$refs["map"][0].mapApi.mapOper.setCenterAndZoom([this.data[t.lonX],this.data[t.latY]]))}}},F=C,A=(a("89cc"),Object(d["a"])(F,m,h,!1,null,null,null));A.options.__file="ViewDialog.vue";var I=A.exports,w={components:{vViewDialog:I,vAddDialog:p},data:function(){return{title:"重点青少年",queryForm:{districtCode:"",name:""},header:{"姓名":"name","人员类型":"dicMap.personType","监护人姓名":"guardianName","监护人联系方式":"guardianContact","是否违法犯罪":"dicMap.iscriminal","帮扶人姓名":"helpName","帮扶人联系方式":"helpContact"},data:[],recordCount:0,disCodeOption:[],isShowCode:["6102"],dlgVisible:!1,configKey:"imptantYoungsters",layout:{tabs:["基本信息"],tab0:{type:"content",tmpl:[[{title:"户籍地",field:"dicMap.domicilePlace",col:[3,5]},{title:"户籍详址",field:"domicilePlaceDetail",col:[3,13]}],[{title:"现住地",field:"dicMap.livePlace",col:[3,5]},{title:"现住详址",field:"livePlaceDetail",col:[3,13]}]]}}}},mounted:function(){var e=this;l["a"].requestGridCode(function(t){e.disCodeOption=[t],e.isShowCode=[t.code],e.queryForm.districtCode=t.code})},watch:{queryForm:{handler:function(e,t){this.handleQuery()},deep:!0}},methods:{handleTreeNode:function(e){this.queryForm.districtCode=e.code},handleAdd:function(){this.$refs["vAddDialog"].dialogVisible=!0,this.$refs["vAddDialog"].isAdd=!0,this.$refs["vAddDialog"].title="添加"+this.title,this.$refs["vAddDialog"].dialogForm.districtCode=this.queryForm.districtCode},handleDelete:function(e){var t=this;this.$popup.showLoading("正在删除中，请稍候..."),new Promise(function(t,a){var i=0;_.map(e,function(a,o){l["a"].requestDeleteImportantYoungsters(a.id,function(a){i++,i==e.length&&t()})})}).then(function(){t.$popup.showNotification({type:"success",message:"重点青少年删除成功！"}),t.handleQuery(),t.$popup.closeLoading()}).catch(function(){t.$popup.showNotification({type:"warning",message:"重点青少年删除失败！"}),t.$popup.closeLoading()})},handlePageChange:function(){this.data=[],this.handleQuery()},handleView:function(e,t){this.dlgVisible=!0,this.$nextTick(function(){this.$refs["vViewDialog"].data=t,this.$refs["vViewDialog"].visible=!0})},handleEdit:function(e,t){var a=this;this.$refs["vAddDialog"].dialogVisible=!0,this.$refs["vAddDialog"].isAdd=!1,this.$refs["vAddDialog"].title="修改"+this.title,l["a"].requestBasePeople(t.peopleId,function(e){var t=[e.occupationType.substr(0,1)+"0000",e.occupationType.substr(0,3)+"00",e.occupationType];e.occupationType=_.uniq(t),a.$refs["vAddDialog"].$refs["vBaseForm"].baseForm=e}),this.$refs["vAddDialog"].dialogForm=_.cloneDeep(t)},handleClear:function(){this.queryForm={districtCode:constants.REGION.CODE,name:""}},handleQuery:function(){var e=this,t=this.$refs["list"].getPageInfo();t.queryForm=_.cloneDeep(this.queryForm),l["a"].requestPageImportantYoungsters(t,function(a){0!=a.totalCount&&0==a.list.length?(t.page=a.totalPage,l["a"].requestPageImportantYoungsters(t,function(t){e.recordCount=t.totalCount,_.map(t.list,function(e){e.dicMap&&(e.dicMap.iscriminal=1==e.iscriminal?"有":"无")}),e.data=t.list})):(e.recordCount=a.totalCount,_.map(a.list,function(e){e.dicMap&&(e.dicMap.iscriminal=1==e.iscriminal?"有":"无")}),e.data=a.list)})}}},x=w,D=Object(d["a"])(x,i,o,!1,null,null,null);D.options.__file="important-youngsters-list.vue";t["default"]=D.exports},ba4a:function(e,t,a){"use strict";a("7f7f");var i=a("9bd2"),o={requestGridCode:function(e){Object(i["a"])({url:"/grid/rstu/find/all/code",method:"get"}).then(function(t){t.region=_.sortBy(t.region,"code");var a=constants.REGION.CODE,i={code:a,label:constants.REGION.NAME,children:[]},o={};switch(a&&a.length){case 4:o=_.map(t.region,function(e){return{code:e.code,label:e.name,children:[]}}),_.map(o,function(e){e.children=_.map(_.filter(t.street,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})}),_.map(o,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.community,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})})}),_.map(o,function(e){_.map(e.children,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})})})});break;case 6:o=_.map(_.filter(t.street,function(e){return e.code.indexOf(a)>=0}),function(e){return{code:e.code,label:e.name,children:[]}}),_.map(o,function(e){e.children=_.map(_.filter(t.community,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})}),_.map(o,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})})});break;case 9:o=_.map(_.filter(t.community,function(e){return e.code.indexOf(a)>=0}),function(e){return{code:e.code,label:e.name,children:[]}}),_.map(o,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})});break;case 12:o=_.map(_.filter(t.unit,function(e){return e.code.indexOf(a)>=0}),function(e){return{code:e.code,label:e.name}});break;default:break}i.children=o,e(i)})},requestDicCatalog:function(e){Object(i["a"])({url:"/buss/info/dictionary/catalog/findAll",method:"get"}).then(function(t){e(t)})},requestDicType:function(e,t){Object(i["a"])({url:"/buss/info/dictionary/findDicByCatalogId?catalogId="+e,method:"get"}).then(function(e){t(e)})},requestByEntityNames:function(e,t){Object(i["a"])({url:"/compre/statis/common/district?districtCode="+e.districtCode+"&entityNames="+e.entityNames,method:"get"}).then(function(e){t(e)})},requestByFieldName:function(e,t){Object(i["a"])({url:"/compre/statis/common/field?districtCode="+e.districtCode+"&entityName="+e.entityName+"&fieldName="+e.fieldName,method:"get"}).then(function(e){t(e)})},requestByEntityAndFieldSum:function(e,t){Object(i["a"])({url:"/compre/statis/common/district/field/sum?districtCode="+e.districtCode+"&entityName="+e.entityName+"&fieldName="+e.fieldName,method:"get"}).then(function(e){t(e)})},requestFocusPeople:function(e,t){Object(i["a"])({url:"/compre/hp/people/find/compreInfo?id="+e,method:"get"}).then(function(e){t(e)})},requestFocus:function(e,t){Object(i["a"])({url:"/compre/"+e.entity+"/find?id="+e.focusId,method:"get"}).then(function(e){t(e)})}};t["a"]=o}}]);
//# sourceMappingURL=chunk-e41f.fcd2825b.js.map