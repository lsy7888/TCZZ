(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38f6"],{"040a":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"table-list-page"},[i("techo-list",{ref:"list",attrs:{title:e.title,header:e.header,data:e.data,isShowCode:e.isShowCode,recordCount:e.recordCount,disCodeOption:e.disCodeOption},on:{onAdd:e.handleAdd,onPageChange:e.handlePageChange,onDelete:e.handleDelete,onView:e.handleView,onEdit:e.handleEdit,onTreeNode:e.handleTreeNode}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("el-row",{staticClass:"techo-list__header-row",attrs:{type:"flex",justify:"space-around"}},[i("el-col",{attrs:{span:10}},[i("span",{staticClass:"techo-list__header-col-txt-4"},[e._v("负责人姓名：")]),i("div",{staticClass:"techo-list__header-col-left-4"},[i("el-input",{staticClass:"techo-list__header-select-full",attrs:{placeholder:"请输入姓名",maxlength:10,size:"small",clearable:""},model:{value:e.queryForm.name,callback:function(t){e.$set(e.queryForm,"name",t)},expression:"queryForm.name"}})],1)]),i("el-col",{attrs:{span:9}}),i("el-col",{staticClass:"techo-list__header-col-button",attrs:{span:5}},[i("el-button",{staticClass:"techo-list__header-button-reset",attrs:{size:"small"},on:{click:e.handleClear}},[e._v("清空")]),i("el-button",{staticClass:"techo-list__header-button-query",attrs:{size:"small"},on:{click:e.handleQuery}},[e._v("查询")])],1)],1)],1)]),e.dlgVisible?i("techo-details",{ref:"details",attrs:{configKey:e.configKey,height:"60%"}}):e._e(),i("vAddDialog",{ref:"vAddDialog"})],1)},o=[],n=i("c93e"),r=i("4227"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{staticClass:"add-dialog",attrs:{title:e.title,visible:e.dialogVisible,fullscreen:""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.resetForm}},[i("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.teamRules,"label-width":"120px"}},[i("el-row",{attrs:{gutter:15}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"治安重点地区",prop:"securityDistrict"}},[i("el-input",{attrs:{maxlength:25,placeholder:"请填写治安重点地区"},model:{value:e.dialogForm.securityDistrict,callback:function(t){e.$set(e.dialogForm,"securityDistrict",t)},expression:"dialogForm.securityDistrict"}})],1),i("el-form-item",{attrs:{label:"涉及区域范围",prop:"invoiveDistrictScope"}},[i("el-input",{attrs:{maxlength:100,placeholder:"请填写涉及区域范围"},model:{value:e.dialogForm.invoiveDistrictScope,callback:function(t){e.$set(e.dialogForm,"invoiveDistrictScope",t)},expression:"dialogForm.invoiveDistrictScope"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"治安突出问题",prop:"securityProblem"}},[i("el-select",{attrs:{placeholder:"请选择治安突出问题",clearable:""},model:{value:e.dialogForm.securityProblem,callback:function(t){e.$set(e.dialogForm,"securityProblem",t)},expression:"dialogForm.securityProblem"}},e._l(e.dic["治安突出问题"],function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1),i("el-form-item",{attrs:{label:"整治牵头单位",prop:"renovateLeadDept"}},[i("el-input",{attrs:{maxlength:25,placeholder:"请填写整治牵头单位"},model:{value:e.dialogForm.renovateLeadDept,callback:function(t){e.$set(e.dialogForm,"renovateLeadDept",t)},expression:"dialogForm.renovateLeadDept"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"涉及区域类型",prop:"invoiveDistrictType"}},[i("el-select",{attrs:{placeholder:"请选择涉及区域类型",clearable:""},model:{value:e.dialogForm.invoiveDistrictType,callback:function(t){e.$set(e.dialogForm,"invoiveDistrictType",t)},expression:"dialogForm.invoiveDistrictType"}},e._l(e.dic["涉及区域类型"],function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1),i("el-form-item",{attrs:{label:"整治参与单位",prop:"renovateParticDept"}},[i("el-input",{attrs:{maxlength:100,placeholder:"请填写整治参与单位"},model:{value:e.dialogForm.renovateParticDept,callback:function(t){e.$set(e.dialogForm,"renovateParticDept",t)},expression:"dialogForm.renovateParticDept"}})],1)],1)],1),i("el-row",{attrs:{gutter:15}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"整治牵头单位负责人姓名",prop:"initiatorName","label-width":"180px"}},[i("el-input",{attrs:{maxlength:12,placeholder:"请填写整治牵头单位负责人姓名"},model:{value:e.dialogForm.initiatorName,callback:function(t){e.$set(e.dialogForm,"initiatorName",t)},expression:"dialogForm.initiatorName"}})],1),i("el-form-item",{attrs:{label:"整治期间破获刑事案件数",prop:"managerCrimeCount","label-width":"180px"}},[i("el-input",{attrs:{maxlength:6,placeholder:"请填写整治期间破获刑事案件数"},model:{value:e.dialogForm.managerCrimeCount,callback:function(t){e.$set(e.dialogForm,"managerCrimeCount",t)},expression:"dialogForm.managerCrimeCount"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"整治牵头单位负责人电话",prop:"initiatorContact","label-width":"180px"}},[i("el-input",{attrs:{maxlength:12,placeholder:"请填写整治整治牵头单位负责人电话"},model:{value:e.dialogForm.initiatorContact,callback:function(t){e.$set(e.dialogForm,"initiatorContact",t)},expression:"dialogForm.initiatorContact"}})],1),i("el-form-item",{attrs:{label:"整治期间查处治安案件数",prop:"managerPeaceCount","label-width":"180px"}},[i("el-input",{attrs:{maxlength:6,placeholder:"请填写整治期间查处治安案件数"},model:{value:e.dialogForm.managerPeaceCount,callback:function(t){e.$set(e.dialogForm,"managerPeaceCount",t)},expression:"dialogForm.managerPeaceCount"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"整改时限",prop:"rectifyTime","label-width":"120px"}},[i("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:e.dialogForm.rectifyTime,callback:function(t){e.$set(e.dialogForm,"rectifyTime",t)},expression:"dialogForm.rectifyTime"}})],1),i("el-form-item",{attrs:{label:"效果评估",prop:"effectAssess","label-width":"120px"}},[i("el-select",{attrs:{placeholder:"请选择效果评估",clearable:""},model:{value:e.dialogForm.effectAssess,callback:function(t){e.$set(e.dialogForm,"effectAssess",t)},expression:"dialogForm.effectAssess"}},e._l(e.dic["效果评估"],function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1)],1)],1),i("el-row",{attrs:{gutter:15}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"整治情况",prop:"managerCaseInfo"}},[i("el-input",{attrs:{type:"textarea",rows:3,maxlength:1024,placeholder:"请填写整治情况"},model:{value:e.dialogForm.managerCaseInfo,callback:function(t){e.$set(e.dialogForm,"managerCaseInfo",t)},expression:"dialogForm.managerCaseInfo"}})],1)],1),i("el-col",{attrs:{span:12}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"warning",size:"small"},on:{click:e.resetForm}},[e._v("取消")]),i("el-button",{attrs:{type:"success",size:"small"},on:{click:e.submitForm}},[e._v("保存")])],1)],1)},s=[],l=(i("7f7f"),i("ac6a"),{data:function(){return{dialogVisible:!1,isAdd:!0,title:"",dic:{"治安突出问题":[],"涉及区域类型":[],"效果评估":[]},disCodeOption:[],dialogForm:{initiatorName:"",initiatorContact:"",securityDistrict:"",securityProblem:"",invoiveDistrictType:"",invoiveDistrictScope:"",renovateLeadDept:"",renovateParticDept:"",rectifyTime:"",managerCrimeCount:"",managerPeaceCount:"",managerCaseInfov:"",effectAssess:"",districtCode:[]},teamRules:{securityDistrict:[{required:!0,message:"请输入治安重点地区",trigger:"blur"}],securityProblem:[{required:!0,message:"请选择治安突出问题",trigger:"change"}],invoiveDistrictType:[{required:!0,message:"请选择涉及区域类型",trigger:"change"}],invoiveDistrictScope:[{required:!0,message:"请输入涉及区域范围",trigger:"blur"}],initiatorName:[{required:!0,message:"请输入整治牵头单位负责人姓名",trigger:"blur"}],initiatorContact:[{required:!0,message:"请输入整治牵头单位负责人电话",trigger:"blur"},util.validate.tellAndPhone()],rectifyTime:[{required:!0,message:"请选择整改时限",trigger:"change"}],managerCrimeCount:[util.validate.valiInteger()],managerPeaceCount:[util.validate.valiInteger()],managerCaseInfo:[{required:!0,message:"请输入整治情况",trigger:"blur"}],effectAssess:[{required:!0,message:"请选择效果评估",trigger:"change"}],districtCode:[{required:!0,message:"请选择区域编码",trigger:"change"}]}}},watch:{},created:function(){var e=this;r["a"].requestDicCatalog(function(t){var i=_.keys(e.dic);_.map(t,function(t){-1!=_.indexOf(i,t.name)&&r["a"].requestDicType(t.id,function(i){e.dic[t.name]=i})})})},methods:{submitForm:function(){var e=this;this.$refs["dialogForm"].validate(function(t){if(!t)return console.log("error submit!!"),!1;var i=_.cloneDeep(e.dialogForm);i.rectifyTime=util.time.formatDate(i.rectifyTime,"YYYY-MM-DD"),i.dicMap&&delete i.dicMap,1==e.isAdd?r["a"].requestSaveDistrictCheck(i,function(t){e.$popup.showNotification({type:"success",message:"重点地区排查排查整治添加成功！"}),e.resetForm(),e.$parent.handleQuery()}):r["a"].requestUpdateDistrictCheck(i,function(t){e.$popup.showNotification({type:"success",message:"重点地区排查排查整治修改成功！"}),e.resetForm(),e.$parent.handleQuery()})})},resetForm:function(){this.$refs["dialogForm"].resetFields(),this.$data.dialogVisible=!1,this.isAdd=!0,this.dialogForm={}}}}),d=l,u=(i("a66d"),i("2877")),m=Object(u["a"])(d,c,s,!1,null,null,null);m.options.__file="district-check-add.vue";var p=m.exports,f={components:{vAddDialog:p},data:function(){return{title:"重点地区排查",queryForm:{districtCode:"",name:""},header:{"整治牵头单位负责人姓名":"initiatorName","整治牵头单位负责人电话":"initiatorContact","治安重点地区":"securityDistrict","治安突出问题":"dicMap.securityProblem","涉及区域类型":"dicMap.invoiveDistrictType","涉及区域范围":"invoiveDistrictScope"},data:[],recordCount:0,disCodeOption:[],isShowCode:["6102"],dlgVisible:!1,configKey:"districtCheck"}},mounted:function(){var e=this;r["a"].requestGridCode(function(t){e.disCodeOption=[t],e.isShowCode=[t.code],e.queryForm.districtCode=t.code})},watch:{queryForm:{handler:function(e,t){this.handleQuery()},deep:!0}},methods:{handleTreeNode:function(e){this.queryForm.districtCode=e.code},handleAdd:function(){this.$refs["vAddDialog"].dialogVisible=!0,this.$refs["vAddDialog"].isAdd=!0,this.$refs["vAddDialog"].title="添加"+this.title,this.$refs["vAddDialog"].dialogForm.districtCode=this.queryForm.districtCode},handleDelete:function(e){var t=this;this.$popup.showLoading("正在删除中，请稍候..."),new Promise(function(t,i){var a=0;_.map(e,function(i,o){r["a"].requestDeleteDistrictCheck(i.id,function(i){a==e.length-1&&t()})})}).then(function(){t.$popup.showNotification({type:"success",message:"重点地区排查排查整治删除成功！"}),t.handleQuery(),t.$popup.closeLoading()}).catch(function(){t.$popup.showNotification({type:"warning",message:"重点地区排查排查整治删除失败！"}),t.$popup.closeLoading()})},handlePageChange:function(){this.data=[],this.handleQuery()},handleView:function(e,t){this.dlgVisible=!0,this.$nextTick(function(){this.$refs["details"].data=t,this.$refs["details"].visible=!0})},handleEdit:function(e,t){this.$refs["vAddDialog"].dialogVisible=!0,this.$refs["vAddDialog"].isAdd=!1,this.$refs["vAddDialog"].title="修改"+this.title,this.$refs["vAddDialog"].dialogForm=_.cloneDeep(t)},handleClear:function(){this.queryForm={districtCode:constants.REGION.CODE,name:""}},handleQuery:function(){var e=this,t=this.$refs["list"].getPageInfo();t=Object(n["a"])({},t,_.cloneDeep(this.queryForm)),r["a"].requestPageDistrictCheck(t,function(i){0!=i.totalCount&&0==i.list.length?(t.page=i.totalPage,r["a"].requestPageDistrictCheck(t,function(t){e.recordCount=t.totalCount,e.data=t.list})):(e.recordCount=i.totalCount,e.data=i.list)})}}},h=f,g=Object(u["a"])(h,a,o,!1,null,null,null);g.options.__file="district-check-list.vue";t["default"]=g.exports},4227:function(e,t,i){"use strict";i("7f7f");var a=i("c93e"),o=i("9bd2"),n=i("ba4a"),r=Object(a["a"])({},n["a"],{requestPageDistrictCheck:function(e,t){Object(o["a"])({url:"/compre/peace/check/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveDistrictCheck:function(e,t){Object(o["a"])({url:"/compre/peace/check/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateDistrictCheck:function(e,t){Object(o["a"])({url:"/compre/peace/check/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteDistrictCheck:function(e,t){Object(o["a"])({url:"/compre/peace/check/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageCaseInfo:function(e,t){Object(o["a"])({url:"/compre/peace/mur/info/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestCaseInfoByCode:function(e,t){Object(o["a"])({url:"/compre/peace/mur/info/findPage?&districtCode="+e,method:"get"}).then(function(e){t(e)})},requestAllCaseList:function(e){Object(o["a"])({url:"/compre/peace/mur/info/findAll",method:"get"}).then(function(t){e(t)})},requestSaveCaseInfo:function(e,t){Object(o["a"])({url:"/compre/peace/mur/info/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateCaseInfo:function(e,t){Object(o["a"])({url:"/compre/peace/mur/info/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteCaseInfo:function(e,t){Object(o["a"])({url:"/compre/peace/mur/info/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageSuspect:function(e,t){Object(o["a"])({url:"/compre/peace/mur/suspect/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize+"&murcaseId="+e.murcaseId,method:"get"}).then(function(e){t(e),c})},requestSaveSuspect:function(e,t){Object(o["a"])({url:"/compre/peace/mur/suspect/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateSuspect:function(e,t){Object(o["a"])({url:"/compre/peace/mur/suspect/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteSuspect:function(e,t){Object(o["a"])({url:"/compre/peace/mur/suspect/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageVictim:function(e,t){Object(o["a"])({url:"/compre/peace/mur/victim/findPage?name="+e.name+"&murcaseId="+e.murcaseId+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveVictim:function(e,t){Object(o["a"])({url:"/compre/peace/mur/victim/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateVictim:function(e,t){Object(o["a"])({url:"/compre/peace/mur/victim/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteVictim:function(e,t){Object(o["a"])({url:"/compre/peace/mur/victim/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageLogisticsSafe:function(e,t){Object(o["a"])({url:"/compre/peace/safe/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveLogisticsSafe:function(e,t){Object(o["a"])({url:"/compre/peace/safe/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateLogisticsSafe:function(e,t){Object(o["a"])({url:"/compre/peace/safe/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteLogisticsSafe:function(e,t){Object(o["a"])({url:"/compre/peace/safe/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestsTimeYear:function(e,t){Object(o["a"])({url:"/compre/peace/statis/mur/info/stimeYear?districtCode="+e,method:"get"}).then(function(e){t(e)})},requesteTimeYear:function(e,t){Object(o["a"])({url:"/compre/peace/statis/mur/info/stimeYear?districtCode="+e,method:"get"}).then(function(e){t(e)})}});t["a"]=r},"751e":function(e,t,i){},a66d:function(e,t,i){"use strict";var a=i("751e"),o=i.n(a);o.a},ba4a:function(e,t,i){"use strict";i("7f7f");var a=i("9bd2"),o={requestGridCode:function(e){Object(a["a"])({url:"/grid/rstu/find/all/code",method:"get"}).then(function(t){t.region=_.sortBy(t.region,"code");var i=constants.REGION.CODE,a={code:i,label:constants.REGION.NAME,children:[]},o={};switch(i&&i.length){case 4:o=_.map(t.region,function(e){return{code:e.code,label:e.name,children:[]}}),_.map(o,function(e){e.children=_.map(_.filter(t.street,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})}),_.map(o,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.community,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})})}),_.map(o,function(e){_.map(e.children,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})})})});break;case 6:o=_.map(_.filter(t.street,function(e){return e.code.indexOf(i)>=0}),function(e){return{code:e.code,label:e.name,children:[]}}),_.map(o,function(e){e.children=_.map(_.filter(t.community,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})}),_.map(o,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})})});break;case 9:o=_.map(_.filter(t.community,function(e){return e.code.indexOf(i)>=0}),function(e){return{code:e.code,label:e.name,children:[]}}),_.map(o,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})});break;case 12:o=_.map(_.filter(t.unit,function(e){return e.code.indexOf(i)>=0}),function(e){return{code:e.code,label:e.name}});break;default:break}a.children=o,e(a)})},requestDicCatalog:function(e){Object(a["a"])({url:"/buss/info/dictionary/catalog/findAll",method:"get"}).then(function(t){e(t)})},requestDicType:function(e,t){Object(a["a"])({url:"/buss/info/dictionary/findDicByCatalogId?catalogId="+e,method:"get"}).then(function(e){t(e)})},requestByEntityNames:function(e,t){Object(a["a"])({url:"/compre/statis/common/district?districtCode="+e.districtCode+"&entityNames="+e.entityNames,method:"get"}).then(function(e){t(e)})},requestByFieldName:function(e,t){Object(a["a"])({url:"/compre/statis/common/field?districtCode="+e.districtCode+"&entityName="+e.entityName+"&fieldName="+e.fieldName,method:"get"}).then(function(e){t(e)})},requestByEntityAndFieldSum:function(e,t){Object(a["a"])({url:"/compre/statis/common/district/field/sum?districtCode="+e.districtCode+"&entityName="+e.entityName+"&fieldName="+e.fieldName,method:"get"}).then(function(e){t(e)})},requestFocusPeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/find/compreInfo?id="+e,method:"get"}).then(function(e){t(e)})},requestFocus:function(e,t){Object(a["a"])({url:"/compre/"+e.entity+"/find?id="+e.focusId,method:"get"}).then(function(e){t(e)})}};t["a"]=o}}]);
//# sourceMappingURL=chunk-38f6.b670ccd7.js.map