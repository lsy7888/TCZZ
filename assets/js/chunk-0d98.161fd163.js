(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d98"],{"1f8c":function(e,t,n){"use strict";t["a"]={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{data:[]},grid:{top:"20%",bottom:"3%",left:"3%",right:"4%",containLabel:!0},xAxis:{type:"category",data:[]},yAxis:{type:"value",name:""},series:[]}},6071:function(e,t,n){"use strict";n("7f7f");var a=n("c93e"),o=n("9bd2"),r=n("ba4a"),i=Object(a["a"])({},r["a"],{requestPageOrgList:function(e,t){Object(o["a"])({url:"/compre/compre/organization/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestOrgListByCode:function(e,t){Object(o["a"])({url:"/compre/compre/organization/findPage?&districtCode="+e,method:"get"}).then(function(e){t(e)})},requestSaveOrg:function(e,t){Object(o["a"])({url:"/compre/compre/organization/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateOrg:function(e,t){Object(o["a"])({url:"/compre/compre/organization/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteOrg:function(e,t){Object(o["a"])({url:"/compre/compre/organization/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageTeamList:function(e,t){Object(o["a"])({url:"/compre/compre/orgTeam/findPage?orgId="+e.orgId+"&districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveTeam:function(e,t){Object(o["a"])({url:"/compre/compre/orgTeam/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateTeam:function(e,t){Object(o["a"])({url:"/compre/compre/orgTeam/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteTeam:function(e,t){Object(o["a"])({url:"/compre/compre/orgTeam/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageGridList:function(e,t){Object(o["a"])({url:"/compre/compre/gridMsg/findPage?districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveGrid:function(e,t){Object(o["a"])({url:"/compre/compre/gridMsg/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateGrid:function(e,t){Object(o["a"])({url:"/compre/compre/gridMsg/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteGrid:function(e,t){Object(o["a"])({url:"/compre/compre/gridMsg/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageBuildLeader:function(e,t){Object(o["a"])({url:"/compre/compre/buildingLeader/findPage?districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveBuildLeader:function(e,t){Object(o["a"])({url:"/compre/compre/buildingLeader/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateBuildLeader:function(e,t){Object(o["a"])({url:"/compre/compre/buildingLeader/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteBuildLeader:function(e,t){Object(o["a"])({url:"/compre/compre/buildingLeader/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageLeaderDuty:function(e,t){Object(o["a"])({url:"/compre/compre/leadAcc/findPage?districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveLeaderDuty:function(e,t){Object(o["a"])({url:"/compre/compre/leadAcc/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateLeaderDuty:function(e,t){Object(o["a"])({url:"/compre/compre/leadAcc/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteLeaderDuty:function(e,t){Object(o["a"])({url:"/compre/compre/leadAcc/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageCase:function(e,t){Object(o["a"])({url:"/compre/compre/greatCase/findPage?districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveCase:function(e,t){Object(o["a"])({url:"/compre/compre/greatCase/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateCase:function(e,t){Object(o["a"])({url:"/compre/compre/greatCase/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteCase:function(e,t){Object(o["a"])({url:"/compre/compre/greatCase/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageOrgMassList:function(e,t){Object(o["a"])({url:"/compre/compre/prevent/findPage?districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestOrgMassListBycode:function(e,t){Object(o["a"])({url:"/compre/compre/prevent/findPage?districtCode="+e,method:"get"}).then(function(e){t(e)})},requestSaveOrgMass:function(e,t){Object(o["a"])({url:"/compre/compre/prevent/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateOrgMass:function(e,t){Object(o["a"])({url:"/compre/compre/prevent/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteOrgMass:function(e,t){Object(o["a"])({url:"/compre/compre/prevent/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageMassTeam:function(e,t){Object(o["a"])({url:"/compre/compre/prevent/team/findPage?districtCode="+e.districtCode+"&PeventId="+e.PeventId+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveMassTeam:function(e,t){Object(o["a"])({url:"/compre/compre/prevent/team/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateMassTeam:function(e,t){Object(o["a"])({url:"/compre/compre/prevent/team/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteMassTeam:function(e,t){Object(o["a"])({url:"/compre/compre/prevent/team/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageCenter:function(e,t){Object(o["a"])({url:"/compre/compre/center/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveCenter:function(e,t){Object(o["a"])({url:"/compre/compre/center/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateCenter:function(e,t){Object(o["a"])({url:"/compre/compre/center/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteCenter:function(e,t){Object(o["a"])({url:"/compre/compre/center/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageSafeVideo:function(e,t){Object(o["a"])({url:"/compre/compre/safeMonitor/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveSafeVideo:function(e,t){Object(o["a"])({url:"/compre/compre/safeMonitor/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateSafeVideo:function(e,t){Object(o["a"])({url:"/compre/compre/safeMonitor/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteSafeVideo:function(e,t){Object(o["a"])({url:"/compre/compre/safeMonitor/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageNetCenter:function(e,t){Object(o["a"])({url:"/compre/compre/netCenter/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveNetCenter:function(e,t){Object(o["a"])({url:"/compre/compre/netCenter/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateNetCenter:function(e,t){Object(o["a"])({url:"/compre/compre/netCenter/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteNetCenter:function(e,t){Object(o["a"])({url:"/compre/compre/netCenter/delete?id="+e,method:"post"}).then(function(e){t(e)})}});t["a"]=i},"62fd":function(e,t,n){},ba4a:function(e,t,n){"use strict";n("7f7f");var a=n("9bd2"),o={requestGridCode:function(e){Object(a["a"])({url:"/grid/rstu/find/all/code",method:"get"}).then(function(t){t.region=_.sortBy(t.region,"code");var n=constants.REGION.CODE,a={code:n,label:constants.REGION.NAME,children:[]},o={};switch(n&&n.length){case 4:o=_.map(t.region,function(e){return{code:e.code,label:e.name,children:[]}}),_.map(o,function(e){e.children=_.map(_.filter(t.street,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})}),_.map(o,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.community,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})})}),_.map(o,function(e){_.map(e.children,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})})})});break;case 6:o=_.map(_.filter(t.street,function(e){return e.code.indexOf(n)>=0}),function(e){return{code:e.code,label:e.name,children:[]}}),_.map(o,function(e){e.children=_.map(_.filter(t.community,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})}),_.map(o,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})})});break;case 9:o=_.map(_.filter(t.community,function(e){return e.code.indexOf(n)>=0}),function(e){return{code:e.code,label:e.name,children:[]}}),_.map(o,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})});break;case 12:o=_.map(_.filter(t.unit,function(e){return e.code.indexOf(n)>=0}),function(e){return{code:e.code,label:e.name}});break;default:break}a.children=o,e(a)})},requestDicCatalog:function(e){Object(a["a"])({url:"/buss/info/dictionary/catalog/findAll",method:"get"}).then(function(t){e(t)})},requestDicType:function(e,t){Object(a["a"])({url:"/buss/info/dictionary/findDicByCatalogId?catalogId="+e,method:"get"}).then(function(e){t(e)})},requestByEntityNames:function(e,t){Object(a["a"])({url:"/compre/statis/common/district?districtCode="+e.districtCode+"&entityNames="+e.entityNames,method:"get"}).then(function(e){t(e)})},requestByFieldName:function(e,t){Object(a["a"])({url:"/compre/statis/common/field?districtCode="+e.districtCode+"&entityName="+e.entityName+"&fieldName="+e.fieldName,method:"get"}).then(function(e){t(e)})},requestByEntityAndFieldSum:function(e,t){Object(a["a"])({url:"/compre/statis/common/district/field/sum?districtCode="+e.districtCode+"&entityName="+e.entityName+"&fieldName="+e.fieldName,method:"get"}).then(function(e){t(e)})},requestFocusPeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/find/compreInfo?id="+e,method:"get"}).then(function(e){t(e)})},requestFocus:function(e,t){Object(a["a"])({url:"/compre/"+e.entity+"/find?id="+e.focusId,method:"get"}).then(function(e){t(e)})}};t["a"]=o},bc65:function(e,t,n){"use strict";var a=n("62fd"),o=n.n(a);o.a},dfc8:function(e,t,n){"use strict";t["a"]={title:{x:"center",text:"",textStyle:{fontSize:16}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},color:["#3965c3","#ffa639","#f75a51","#FF6633","#FF9966","#FF6699","#FFFF66","#FF99FF","#FF3333","#CCCCFF","#CCCC33","#CC6666","#CC33CC","#CC00FF","#99CC66","#99CC00","#99FF33","#990066"],legend:{orient:"vertical",left:"left",data:[]},series:[{name:"",type:"pie",radius:"55%",center:["50%","50%"],label:{normal:{show:!0},emphasis:{show:!0}},lableLine:{normal:{show:!0},emphasis:{show:!0}},data:[]}]}},f5e5:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"charts-page"},[n("div",{staticClass:"top-card"},[n("techo-card",{attrs:{resizeEvent:"topCard",maxCard:!0,upLevel:e.isShowLevelBtu},on:{onUpLevel:e.handleUpLevel}},[n("div",{attrs:{slot:"header"},slot:"header"},[e._v("综治机构区域分布")]),n("div",{staticStyle:{height:"100%"},attrs:{id:"TopBar"}})])],1),n("el-row",{staticClass:"bottom-card",attrs:{gutter:10}},[n("el-col",{attrs:{span:12}},[n("techo-card",{attrs:{resizeEvent:"leftCard",maxCard:!0}},[n("div",{attrs:{slot:"header"},slot:"header"},[e._v("综治机构层级分布")]),n("div",{staticStyle:{height:"100%"},attrs:{id:"LeftBar"}})])],1),n("el-col",{attrs:{span:12}},[n("techo-card",{attrs:{resizeEvent:"rightCard",maxCard:!0}},[n("div",{attrs:{slot:"header"},slot:"header"},[e._v("综治机构类型占比")]),n("div",{staticStyle:{height:"100%"},attrs:{id:"RightPie"}})])],1)],1)],1)},o=[],r=(n("7f7f"),n("7514"),n("ac6a"),n("1f8c")),i=n("dfc8"),c=n("6071"),d={data:function(){return{DISCODE:"6102",topBarOptions:{},topBarChart:null,leftBarOptions:{},leftBarChart:null,rightPieOptions:{},rightPieChart:null,byCode:"",isShowLevelBtu:!0,COLORS:["#3965c3","#ffa639","#f75a51"]}},watch:{byCode:function(e){this.isShowLevelBtu=6!=e.length}},mounted:function(){var e=this,t=this;this.topBarChart=this.$echarts.init(this.$el.querySelector("#TopBar")),this.leftBarChart=this.$echarts.init(this.$el.querySelector("#LeftBar")),this.rightPieChart=this.$echarts.init(this.$el.querySelector("#RightPie")),this.topBarChart.on("click",function(t){14!=e.byCode.length&&(e.getOrgData(t.data.rawdata.code),e.getOrgPieData(t.data.rawdata.code))}),this.$bus.$on("topCard",function(){t.topBarChart.resize()}),this.$bus.$on("leftCard",function(){t.leftBarChart.resize()}),this.$bus.$on("rightCard",function(){t.rightPieChart.resize()})},created:function(){this.getOrgData(),this.getLevelOrgData(),this.getOrgPieData()},methods:{getOrgData:function(e){var t=this,n={districtCode:e||this.DISCODE,entityName:"ViewCompreMassPrevent",fieldName:"type"},a=this;this.topBarOptions=_.cloneDeep(r["a"]),c["a"].requestByEntityAndField(n,function(e){if(0!=e.length){t.byCode=e[0].code,t.topBarOptions.yAxis.name="机构数";var n=_.keys(_.groupBy(e,"keyName"));t.topBarOptions.legend.data=n,_.map(n,function(e,t){a.topBarOptions.series.push({name:e,type:"bar",itemStyle:{normal:{color:a.COLORS[t]}},barMaxWidth:80,data:[]})}),_.map(_.groupBy(e,"name"),function(e,t){a.topBarOptions.xAxis.data.push(t),_.map(e,function(e){var t=_.find(a.topBarOptions.series,function(t){return t.name==e.keyName});t.data.push({rawdata:e,value:e.count})})}),t.topBarChart.setOption(a.topBarOptions),t.topBarChart.resize()}})},getLevelOrgData:function(){var e=this,t={entityName:"ViewCompreMassPrevent",fieldName:"type"},n=this;this.leftBarOptions=_.cloneDeep(r["a"]),c["a"].requestByLevelField(t,function(t){e.leftBarOptions.yAxis.name="机构数";var a=_.keys(_.groupBy(t,"keyName"));e.leftBarOptions.legend.data=a,_.map(a,function(e,t){n.leftBarOptions.series.push({name:e,type:"bar",itemStyle:{normal:{color:n.COLORS[t]}},barMaxWidth:80,data:[]})}),_.map(_.groupBy(_.sortBy(t,"name"),"name"),function(e,t){var a="";switch(t){case"P":a="市";break;case"R":a="区县";break;case"S":a="乡镇";break;case"T":a="社区";break;case"U":a="网格";break;default:break}n.leftBarOptions.xAxis.data.push(a),_.map(e,function(e){var t=_.find(n.leftBarOptions.series,function(t){return t.name==e.keyName});t.data.push(e.count)})}),e.leftBarChart.setOption(n.leftBarOptions),e.leftBarChart.resize()})},getOrgPieData:function(e){var t={districtCode:e||this.DISCODE,entityName:"ViewCompreMassPrevent",fieldName:"type"},n=this;this.rightPieOptions=_.cloneDeep(i["a"]),c["a"].requestByFieldName(t,function(e){n.rightPieOptions.legend.data=_.keys(_.groupBy(e,"name")),n.rightPieOptions.title.text=" ",n.rightPieOptions.series[0].name="综治机构",e=e.filter(function(e){return 0!=e.count}),_.map(e,function(e){n.rightPieOptions.series[0].data.push({name:e.name,value:e.count})}),n.rightPieChart.setOption(n.rightPieOptions),n.rightPieChart.resize()})},handleUpLevel:function(){var e="";switch(this.byCode.length){case 9:e=this.byCode.slice(0,4);break;case 12:e=this.byCode.slice(0,6);break;case 14:e=this.byCode.slice(0,9);break;default:break}this.getOrgData(e),this.getOrgPieData(e)}}},s=d,u=(n("bc65"),n("2877")),p=Object(u["a"])(s,a,o,!1,null,null,null);p.options.__file="qfqz-org.vue";t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-0d98.161fd163.js.map