{"version":3,"sources":["webpack:///./src/layout/header-top/components/tabs/tabs.vue?fc48","webpack:///src/layout/header-top/components/tabs/tabs.vue","webpack:///./src/layout/header-top/components/tabs/tabs.vue?5093","webpack:///./src/layout/header-top/components/tabs/tabs.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","flex","flex-box","value","current","type","closable","isColseable","on","tab-click","handleClick","edit","handleTabsEdit","nativeOn","contextmenu","$event","handleContextmenu","_l","page","index","key","label","meta","title","name","slot","staticStyle","margin-right","icon","_v","_s","staticRenderFns","tabsvue_type_script_lang_js_","components","data","contextmenuFlag","contentmenuX","contentmenuY","contextmenuListIndex","contextmenuList","tagName","computed","Object","objectSpread","vuex_esm","methods","event","target","flag","className","indexOf","parentNode","preventDefault","stopPropagation","clientX","clientY","getAttribute","slice","contextmenuClick","command","handleControlItemClick","arguments","length","undefined","params","pageSelect","vm","closeLeft","closeRight","closeOther","closeAll","$message","error","handleControlBtnClick","tab","$router","push","actived","menu","$store","commit","split","path","action","close","tabs_tabsvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"assets/js/9012.575f5231.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout-multiple-page-control-group\",attrs:{\"flex\":\"\"}},[_c('div',{staticClass:\"layout-multiple-page-control-content\",attrs:{\"flex-box\":\"1\"}},[_c('div',{staticClass:\"layout-multiple-page-control-content-inner\"},[_c('el-tabs',{staticClass:\"layout-multiple-page-control-tabs\",attrs:{\"value\":_vm.current,\"type\":\"card\",\"closable\":_vm.isColseable},on:{\"tab-click\":_vm.handleClick,\"edit\":_vm.handleTabsEdit},nativeOn:{\"contextmenu\":function($event){return _vm.handleContextmenu($event)}}},_vm._l((_vm.fixed),function(page,index){return _c('el-tab-pane',{key:index,attrs:{\"label\":page.meta.title || '未命名',\"name\":page.name}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('techo-icon',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"name\":page.meta.icon || 'bars'}}),_vm._v(\"\\n                        \"+_vm._s(page.meta.title || '未命名'))],1)])}))],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"layout-multiple-page-control-group\" flex>\r\n        <div class=\"layout-multiple-page-control-content\" flex-box=\"1\">\r\n            <div class=\"layout-multiple-page-control-content-inner\">\r\n                <!-- <d2-contextmenu :visible.sync=\"contextmenuFlag\" :x=\"contentmenuX\" :y=\"contentmenuY\">\r\n                    <d2-contextmenu-list :menulist=\"tagName === 'index' ? contextmenuListIndex : contextmenuList\"\r\n                        @rowClick=\"contextmenuClick\" />\r\n                </d2-contextmenu> -->\r\n                <el-tabs class=\"layout-multiple-page-control-tabs\" :value=\"current\" type=\"card\" :closable=\"isColseable\"\r\n                    @tab-click=\"handleClick\" @edit=\"handleTabsEdit\" @contextmenu.native=\"handleContextmenu\">\r\n                    <el-tab-pane v-for=\"(page, index) in fixed\" :key=\"index\" :label=\"page.meta.title || '未命名'\" :name=\"page.name\">\r\n                        <span slot=\"label\">\r\n                            <techo-icon style=\"margin-right:10px;\" :name=\"page.meta.icon || 'bars'\" />\r\n                            {{page.meta.title || '未命名'}}</span>\r\n                    </el-tab-pane>\r\n                </el-tabs>\r\n            </div>\r\n        </div>\r\n        <!-- <div class=\"d2-multiple-page-control-btn\" flex-box=\"0\">\r\n            <el-dropdown split-button @click=\"handleControlBtnClick\" @command=\"command => handleControlItemClick(command)\">\r\n                <d2-icon name=\"times-circle\" />\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                    <el-dropdown-item command=\"left\">\r\n                        <d2-icon name=\"arrow-left\" class=\"d2-mr-10\" />\r\n                        关闭左侧\r\n                    </el-dropdown-item>\r\n                    <el-dropdown-item command=\"right\">\r\n                        <d2-icon name=\"arrow-right\" class=\"d2-mr-10\" />\r\n                        关闭右侧\r\n                    </el-dropdown-item>\r\n                    <el-dropdown-item command=\"other\">\r\n                        <d2-icon name=\"times\" class=\"d2-mr-10\" />\r\n                        关闭其它\r\n                    </el-dropdown-item>\r\n                    <el-dropdown-item command=\"all\">\r\n                        <d2-icon name=\"times-circle\" class=\"d2-mr-10\" />\r\n                        全部关闭\r\n                    </el-dropdown-item>\r\n                </el-dropdown-menu>\r\n            </el-dropdown>\r\n        </div> -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {\r\n        mapState,\r\n        mapMutations\r\n    } from 'vuex'\r\n    export default {\r\n        components: {\r\n            // D2Contextmenu: () =>\r\n            //     import('../contextmenu'),\r\n            // D2ContextmenuList: () =>\r\n            //     import('../contextmenu/components/contentmenuList')\r\n        },\r\n        data() {\r\n            return {\r\n                // 标签页是否可关闭\r\n                isColseable: false,\r\n                contextmenuFlag: false,\r\n                contentmenuX: 0,\r\n                contentmenuY: 0,\r\n                contextmenuListIndex: [{\r\n                    icon: 'times-circle',\r\n                    title: '关闭全部',\r\n                    value: 'all'\r\n                }],\r\n                contextmenuList: [{\r\n                        icon: 'arrow-left',\r\n                        title: '关闭左侧',\r\n                        value: 'left'\r\n                    },\r\n                    {\r\n                        icon: 'arrow-right',\r\n                        title: '关闭右侧',\r\n                        value: 'right'\r\n                    },\r\n                    {\r\n                        icon: 'times',\r\n                        title: '关闭其它',\r\n                        value: 'other'\r\n                    },\r\n                    {\r\n                        icon: 'times-circle',\r\n                        title: '关闭全部',\r\n                        value: 'all'\r\n                    }\r\n                ],\r\n                tagName: 'index'\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState('techo/page', [\r\n                'actived',\r\n                'fixed',\r\n                'current'\r\n            ]),\r\n            ...mapState('techo/menu', [\r\n                'asideActive'\r\n            ])\r\n        },\r\n        methods: {\r\n            ...mapMutations('techo/page', [\r\n                'close',\r\n                'closeLeft',\r\n                'closeRight',\r\n                'closeOther',\r\n                'closeAll'\r\n            ]),\r\n            /**\r\n             * @description 右键菜单功能点击\r\n             */\r\n            handleContextmenu(event) {\r\n                let target = event.target\r\n\r\n                // 解决 https://github.com/d2-projects/d2-admin/issues/54\r\n                let flag = false\r\n                if (target.className.indexOf('el-tabs__item') > -1) flag = true\r\n                else if (target.parentNode.className.indexOf('el-tabs__item') > -1) {\r\n                    target = target.parentNode\r\n                    flag = true\r\n                }\r\n\r\n                if (flag) {\r\n                    event.preventDefault()\r\n                    event.stopPropagation()\r\n                    this.contentmenuX = event.clientX\r\n                    this.contentmenuY = event.clientY\r\n                    this.tagName = target.getAttribute('aria-controls').slice(5)\r\n                    this.contextmenuFlag = true\r\n                }\r\n            },\r\n            /**\r\n             * @description 右键菜单的row-click事件\r\n             */\r\n            contextmenuClick(command) {\r\n                this.handleControlItemClick(command, this.tagName)\r\n            },\r\n            /**\r\n             * @description 接收点击关闭控制上选项的事件\r\n             */\r\n            handleControlItemClick(command, tagName = null) {\r\n                if (tagName) {\r\n                    this.contextmenuFlag = false\r\n                }\r\n                const params = {\r\n                    pageSelect: tagName,\r\n                    vm: this\r\n                }\r\n                switch (command) {\r\n                    case 'left':\r\n                        this.closeLeft(params)\r\n                        break\r\n                    case 'right':\r\n                        this.closeRight(params)\r\n                        break\r\n                    case 'other':\r\n                        this.closeOther(params)\r\n                        break\r\n                    case 'all':\r\n                        this.closeAll(this)\r\n                        break\r\n                    default:\r\n                        this.$message.error('无效的操作')\r\n                        break\r\n                }\r\n            },\r\n            /**\r\n             * @description 接收点击关闭控制上按钮的事件\r\n             */\r\n            handleControlBtnClick() {\r\n                this.closeAll(this)\r\n            },\r\n            /**\r\n             * @description 接收点击 tab 标签的事件\r\n             */\r\n            handleClick(tab, event) {\r\n                // 分别跳转页面到\r\n                if (tab.name == \"show\") {\r\n                    this.$router.push({\r\n                        name: this.actived.meta.menu ? this.actived.meta.menu : this.actived.name\r\n                    });\r\n                } else if (tab.name == \"list\") {\r\n                    this.$router.push({\r\n                        name: this.actived.meta.menu ? this.actived.name : this.actived.name + '_list'\r\n                    });\r\n                } else if (tab.name == \"map\") {\r\n                    // 展示地图时默认隐藏侧边栏\r\n                    this.$store.commit('techo/menu/asideCollapseSet', true);\r\n\r\n                    // 传入当前激活的菜单，默认选中对应的专题图层\r\n                    this.$router.push({\r\n                        name: 'default-map',\r\n                        params: {\r\n                            name: this.actived.meta.menu ? this.actived.meta.menu.split('-')[1] : this.actived.path\r\n                        }\r\n                    });\r\n                }\r\n                // // 找到点击的页面在 tag 列表里是哪个\r\n                // const page = this.fixed.find(page => page.name === tab.name);\r\n                // const {\r\n                //     name,\r\n                //     params,\r\n                //     query\r\n                // } = page\r\n                // if (page) {\r\n                //     this.$router.push({\r\n                //         name: 'default-' + name,\r\n                //         params,\r\n                //         query\r\n                //     })\r\n                // }\r\n            },\r\n            /**\r\n             * @description 点击 tab 上的删除按钮触发这里 首页的删除按钮已经隐藏 因此这里不用判断是 index\r\n             */\r\n            handleTabsEdit(tagName, action) {\r\n                if (action === 'remove') {\r\n                    this.close({\r\n                        tagName,\r\n                        vm: this\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tabs.vue?vue&type=template&id=08fa3ec2&\"\nimport script from \"./tabs.vue?vue&type=script&lang=js&\"\nexport * from \"./tabs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"tabs.vue\"\nexport default component.exports"],"sourceRoot":""}