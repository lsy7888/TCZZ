(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-539a"],{"2e74":function(e,t,o){"use strict";o("7f7f");var i=o("c93e"),a=o("9bd2"),l=o("ba4a"),n=Object(i["a"])({},l["a"],{requestSavePeopleInfo:function(e,t){Object(a["a"])({url:"/compre/hp/people/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdatePeopleInfo:function(e,t){Object(a["a"])({url:"/compre/hp/people/update",method:"post",data:e}).then(function(e){t(e)})},requestBasePeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/find?id="+e,method:"get"}).then(function(e){t(e)})},requestPageHousePeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/house/findPage?name="+e.name+"&houseId="+e.houseId+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveHousePeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/house/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateHousePeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/house/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteHousePeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/house/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageFlowPeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/flow/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveFlowPeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/flow/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateFlowPeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/flow/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteFlowPeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/flow/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageRearPeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/rear/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveRearPeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/rear/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateRearPeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/rear/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteRearPeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/rear/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageOverseasPeople:function(e,t){var o="/compre/hp/people/overseas/findPage?districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize;""!=e.chinessName&&(o+="&chinessName="+e.chinessName),Object(a["a"])({url:o,method:"get"}).then(function(e){t(e)})},requestSaveOverseasPeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/overseas/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateOverseasPeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/overseas/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteOverseasPeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/overseas/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageRentalHouse:function(e,t){Object(a["a"])({url:"/compre/hp/rentalhouse/findPage?landlordName="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveRentalHouse:function(e,t){Object(a["a"])({url:"/compre/hp/rentalhouse/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateRentalHouse:function(e,t){Object(a["a"])({url:"/compre/hp/rentalhouse/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteRentalHouse:function(e,t){Object(a["a"])({url:"/compre/hp/rentalhouse/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestUpdateHouse:function(e,t){Object(a["a"])({url:"/compre/hp/house/update",method:"post",data:e}).then(function(e){t(e)})}});t["a"]=n},"36c0":function(e,t,o){},"4fd8":function(e,t,o){"use strict";var i=o("36c0"),a=o.n(i);a.a},ba4a:function(e,t,o){"use strict";o("7f7f");var i=o("9bd2"),a={requestGridCode:function(e){Object(i["a"])({url:"/grid/rstu/find/all/code",method:"get"}).then(function(t){t.region=_.sortBy(t.region,"code");var o=constants.REGION.CODE,i={code:o,label:constants.REGION.NAME,children:[]},a={};switch(o&&o.length){case 4:a=_.map(t.region,function(e){return{code:e.code,label:e.name,children:[]}}),_.map(a,function(e){e.children=_.map(_.filter(t.street,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})}),_.map(a,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.community,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})})}),_.map(a,function(e){_.map(e.children,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})})})});break;case 6:a=_.map(_.filter(t.street,function(e){return e.code.indexOf(o)>=0}),function(e){return{code:e.code,label:e.name,children:[]}}),_.map(a,function(e){e.children=_.map(_.filter(t.community,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})}),_.map(a,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})})});break;case 9:a=_.map(_.filter(t.community,function(e){return e.code.indexOf(o)>=0}),function(e){return{code:e.code,label:e.name,children:[]}}),_.map(a,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})});break;case 12:a=_.map(_.filter(t.unit,function(e){return e.code.indexOf(o)>=0}),function(e){return{code:e.code,label:e.name}});break;default:break}i.children=a,e(i)})},requestDicCatalog:function(e){Object(i["a"])({url:"/buss/info/dictionary/catalog/findAll",method:"get"}).then(function(t){e(t)})},requestDicType:function(e,t){Object(i["a"])({url:"/buss/info/dictionary/findDicByCatalogId?catalogId="+e,method:"get"}).then(function(e){t(e)})},requestByEntityNames:function(e,t){Object(i["a"])({url:"/compre/statis/common/district?districtCode="+e.districtCode+"&entityNames="+e.entityNames,method:"get"}).then(function(e){t(e)})},requestByFieldName:function(e,t){Object(i["a"])({url:"/compre/statis/common/field?districtCode="+e.districtCode+"&entityName="+e.entityName+"&fieldName="+e.fieldName,method:"get"}).then(function(e){t(e)})},requestByEntityAndFieldSum:function(e,t){Object(i["a"])({url:"/compre/statis/common/district/field/sum?districtCode="+e.districtCode+"&entityName="+e.entityName+"&fieldName="+e.fieldName,method:"get"}).then(function(e){t(e)})},requestFocusPeople:function(e,t){Object(i["a"])({url:"/compre/hp/people/find/compreInfo?id="+e,method:"get"}).then(function(e){t(e)})},requestFocus:function(e,t){Object(i["a"])({url:"/compre/"+e.entity+"/find?id="+e.focusId,method:"get"}).then(function(e){t(e)})}};t["a"]=a},f485:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"table-list-page"},[o("techo-list",{ref:"list",attrs:{title:e.title,header:e.header,data:e.data,isShowCode:e.isShowCode,disCodeOption:e.disCodeOption,recordCount:e.recordCount},on:{onAdd:e.handleAdd,onPageChange:e.handlePageChange,onDelete:e.handleDelete,onView:e.handleView,onEdit:e.handleEdit,onTreeNode:e.handleTreeNode}},[o("div",{attrs:{slot:"header"},slot:"header"},[o("el-row",{staticClass:"techo-list__header-row",attrs:{type:"flex",justify:"space-around"}},[o("el-col",{attrs:{span:10}},[o("span",{staticClass:"techo-list__header-col-txt-4"},[e._v("中文姓名：")]),o("div",{staticClass:"techo-list__header-col-left-4"},[o("el-input",{staticClass:"techo-list__header-select-full",attrs:{placeholder:"请输入中文姓名",maxlength:10,size:"small",clearable:""},model:{value:e.queryForm.chinessName,callback:function(t){e.$set(e.queryForm,"chinessName",t)},expression:"queryForm.chinessName"}})],1)]),o("el-col",{attrs:{span:9}}),o("el-col",{staticClass:"techo-list__header-col-button",attrs:{span:5}},[o("el-button",{staticClass:"techo-list__header-button-reset",attrs:{size:"small"},on:{click:e.handleClear}},[e._v("清空")]),o("el-button",{staticClass:"techo-list__header-button-query",attrs:{size:"small"},on:{click:e.handleQuery}},[e._v("查询")])],1)],1)],1)]),e.dlgVisible?o("techo-details",{ref:"details",attrs:{configKey:e.configKey,height:"60%",title:e.title}}):e._e(),o("vAddDialog",{ref:"vAddDialog",attrs:{disCodeOption:e.disCodeOption}})],1)},a=[],l=o("c93e"),n=o("2e74"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{staticClass:"add-dialog",attrs:{title:e.title,visible:e.dialogVisible,fullscreen:"",modal:!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.resetForm}},[o("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.teamRules,"label-width":"120px"}},[o("el-row",{attrs:{gutter:15}},[o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"外文名",prop:"foreignName"}},[o("el-input",{attrs:{maxlength:10,placeholder:"请填写外文名"},model:{value:e.dialogForm.foreignName,callback:function(t){e.$set(e.dialogForm,"foreignName",t)},expression:"dialogForm.foreignName"}})],1),o("el-form-item",{attrs:{label:"抵达日期",prop:"arriveTime"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:e.dialogForm.arriveTime,callback:function(t){e.$set(e.dialogForm,"arriveTime",t)},expression:"dialogForm.arriveTime"}})],1),o("el-form-item",{attrs:{label:"是否重点关注人员",prop:"isFocus","label-width":"140px"}},[o("el-radio-group",{model:{value:e.dialogForm.isFocus,callback:function(t){e.$set(e.dialogForm,"isFocus",t)},expression:"dialogForm.isFocus"}},[o("el-radio",{attrs:{label:1}},[e._v("是")]),o("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),o("el-form-item",{attrs:{label:"证件类型"}},[o("el-select",{attrs:{placeholder:"请选择证件类型",clearable:""},model:{value:e.dialogForm.certificateCode,callback:function(t){e.$set(e.dialogForm,"certificateCode",t)},expression:"dialogForm.certificateCode"}},e._l(e.dic["证件代码"],function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1)],1),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"性别",prop:"sex"}},[o("el-select",{attrs:{placeholder:"请选择性别",clearable:""},model:{value:e.dialogForm.sex,callback:function(t){e.$set(e.dialogForm,"sex",t)},expression:"dialogForm.sex"}},e._l(e.dic["性别"],function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1),o("el-form-item",{attrs:{label:"预计离开日期",prop:"leaveTime"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:e.dialogForm.leaveTime,callback:function(t){e.$set(e.dialogForm,"leaveTime",t)},expression:"dialogForm.leaveTime"}})],1),o("el-form-item",{attrs:{label:"国籍(地区)"}},[o("el-select",{attrs:{placeholder:"请选择国籍(地区)",clearable:""},model:{value:e.dialogForm.nationality,callback:function(t){e.$set(e.dialogForm,"nationality",t)},expression:"dialogForm.nationality"}},e._l(e.dic["国籍"],function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1),o("el-form-item",{attrs:{label:"证件有效期"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:e.dialogForm.certificateValidityTime,callback:function(t){e.$set(e.dialogForm,"certificateValidityTime",t)},expression:"dialogForm.certificateValidityTime"}})],1)],1),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"联系方式",prop:"phone"}},[o("el-input",{attrs:{maxlength:30,placeholder:"请填写联系方式"},model:{value:e.dialogForm.phone,callback:function(t){e.$set(e.dialogForm,"phone",t)},expression:"dialogForm.phone"}})],1),o("el-form-item",{attrs:{label:"来华目的",prop:"comingToChina"}},[o("el-select",{attrs:{placeholder:"请选择来华目的",clearable:""},model:{value:e.dialogForm.comingToChina,callback:function(t){e.$set(e.dialogForm,"comingToChina",t)},expression:"dialogForm.comingToChina"}},e._l(e.dic["来华目的"],function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1),o("el-form-item",{attrs:{label:"宗教信仰"}},[o("el-select",{attrs:{placeholder:"请选择宗教信仰",clearable:""},model:{value:e.dialogForm.religiousBelief,callback:function(t){e.$set(e.dialogForm,"religiousBelief",t)},expression:"dialogForm.religiousBelief"}},e._l(e.dic["宗教信仰"],function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1),o("el-form-item",{attrs:{label:"证件号码"}},[o("el-input",{attrs:{maxlength:30,placeholder:"请填写证件号码"},model:{value:e.dialogForm.certificateNumber,callback:function(t){e.$set(e.dialogForm,"certificateNumber",t)},expression:"dialogForm.certificateNumber"}})],1)],1),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"外文姓"}},[o("el-input",{attrs:{maxlength:10,placeholder:"请填写外文姓"},model:{value:e.dialogForm.foreignSurname,callback:function(t){e.$set(e.dialogForm,"foreignSurname",t)},expression:"dialogForm.foreignSurname"}})],1),o("el-form-item",{attrs:{label:"中文姓名",prop:"chinessName"}},[o("el-input",{attrs:{maxlength:10,placeholder:"请填写中文名"},model:{value:e.dialogForm.chinessName,callback:function(t){e.$set(e.dialogForm,"chinessName",t)},expression:"dialogForm.chinessName"}})],1),o("el-form-item",{attrs:{label:"出生日期"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:e.dialogForm.birthName,callback:function(t){e.$set(e.dialogForm,"birthName",t)},expression:"dialogForm.birthName"}})],1),o("el-form-item",{attrs:{label:"服务处所"}},[o("el-input",{attrs:{maxlength:25,placeholder:"请填写服务处所"},model:{value:e.dialogForm.servicePlace,callback:function(t){e.$set(e.dialogForm,"servicePlace",t)},expression:"dialogForm.servicePlace"}})],1)],1)],1),o("el-row",{attrs:{gutter:15}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"职业类别"}},[o("el-cascader",{attrs:{placeholder:"请选择职业类别",options:e.dic["职业类别"],filterable:"","change-on-select":"",clearable:"",props:{value:"code"}},model:{value:e.dialogForm.occupationType,callback:function(t){e.$set(e.dialogForm,"occupationType",t)},expression:"dialogForm.occupationType"}})],1)],1),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"职业"}},[o("el-input",{attrs:{maxlength:30,placeholder:"请填写职业"},model:{value:e.dialogForm.occupationDesc,callback:function(t){e.$set(e.dialogForm,"occupationDesc",t)},expression:"dialogForm.occupationDesc"}})],1)],1),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"现住地"}},[o("el-select",{attrs:{placeholder:"请选择现住地",clearable:"",disabled:""},model:{value:e.dialogForm.livePlace,callback:function(t){e.$set(e.dialogForm,"livePlace",t)},expression:"dialogForm.livePlace"}},e._l(e.dic["行政区划"],function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1)],1)],1),o("el-row",{attrs:{gutter:15}},[o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{prop:"houseId"}},[o("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"},model:{value:e.showPopover,callback:function(t){e.showPopover=t},expression:"showPopover"}},[o("techo-house",{ref:"vCheckedHouse",attrs:{isShowHouse:!0,butName:"确定",disCodeOption:e.disCodeOption,buildOptions:e.buildOptions,houseOptions:e.houseOptions},on:{onRelaData:e.handleCheckedHouse,onQueryBuild:e.handleQueryBuildList,onQueryHouse:e.handleQueryHouseList}}),o("el-button",{staticClass:"check-house",attrs:{slot:"reference",type:"danger",size:"small"},slot:"reference"},[e._v("请选择现住地户")])],1)],1)],1),o("el-col",{attrs:{span:18}},[o("el-form-item",{attrs:{label:"现住地详址"}},[o("el-input",{attrs:{disabled:"",maxlength:1024,placeholder:"请填写现住地详址"},model:{value:e.dialogForm.livePlaceDetail,callback:function(t){e.$set(e.dialogForm,"livePlaceDetail",t)},expression:"dialogForm.livePlaceDetail"}})],1)],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"warning",size:"small"},on:{click:e.resetForm}},[e._v("取消")]),o("el-button",{attrs:{type:"success",size:"small"},on:{click:e.submitForm}},[e._v("保存")])],1)],1)},s=[],c=(o("7514"),o("7f7f"),o("ac6a"),{props:{disCodeOption:{type:Array,default:[]}},data:function(){return{dialogVisible:!1,isAdd:!0,title:"",buildOptions:[],houseOptions:[],showPopover:!1,dic:{"性别":[],"国籍":[],"宗教信仰":[],"证件代码":[],"职业类别":[],"来华目的":[],"行政区划":[]},dialogForm:{isFocus:0,sex:"1",livePlace:"610000",houseId:""},teamRules:{foreignName:[{required:!0,message:"请输入外文名",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],houseId:[{required:!0,message:"请选择现住地户",trigger:"change"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],phone:[{required:!0,message:"请输入联系方式",trigger:"blur"},util.validate.tellAndPhone()],comingToChina:[{required:!0,message:"请选择来华目的",trigger:"change"}],arriveTime:[{required:!0,message:"请选择抵达日期",trigger:"change"}],leaveTime:[{required:!0,message:"请选择预计离开日期",trigger:"change"}]}}},created:function(){var e=this;n["a"].requestDicCatalog(function(t){var o=_.keys(e.dic);_.map(t,function(t){-1!=_.indexOf(o,t.name)&&n["a"].requestDicType(t.id,function(o){"职业类别"==t.name?e.dic[t.name]=e.handleTreeData(o):e.dic[t.name]=o})})})},methods:{handleTreeData:function(e){var t=_.map(_.filter(e,function(e){return"0000"===e.code.slice(1,5)}),function(e){return{code:e.code,label:e.name,children:[]}});return _.map(t,function(t){t.children=_.map(_.filter(e,function(e){return e.code.slice(0,1)===t.code.slice(0,1)&&"0000"!==e.code.slice(1,5)&&"00"===e.code.slice(3,5)}),function(e){return{code:e.code,label:e.name,children:[]}})}),_.map(t,function(t){_.map(t.children,function(t){t.children=_.map(_.filter(e,function(e){return e.code.slice(0,3)===t.code.slice(0,3)&&"00"!==e.code.slice(3,5)}),function(e){return{code:e.code,label:e.name}})})}),t},handleCheckedHouse:function(e,t){var o=this;this.dialogForm.districtCode=t.districtCode;var i=_.find(this.houseOptions,function(t){return t.id==e.houseId});n["a"].requestCodeByAddress(t.districtCode,function(e){o.dialogForm.livePlaceDetail="陕西省"+e.belongname+e.name+i.name,o.showPopover=!1}),this.dialogForm.houseId=i.id,this.$refs["dialogForm"].clearValidate("houseId")},handleQueryBuildList:function(e){var t=this;this.buildOptions=[],this.houseOptions=[],void 0!=e&&n["a"].requestCodeByBuild(e,function(e){t.buildOptions=e.list})},handleQueryHouseList:function(e){var t=this;this.houseOptions=[],""!=e.buildingId&&n["a"].requestBuildByHouse(e,function(e){t.houseOptions=e.list})},submitForm:function(){var e=this;this.$refs["dialogForm"].validate(function(t){if(!t)return console.log("error submit!!"),!1;var o=_.cloneDeep(e.dialogForm);o.birthName=o.birthName&&util.time.formatDate(o.birthName,"YYYY-MM-DD"),o.certificateValidityTime=util.time.formatDate(o.certificateValidityTime,"YYYY-MM-DD"),o.arriveTime=o.arriveTime&&util.time.formatDate(o.arriveTime,"YYYY-MM-DD"),o.leaveTime=o.leaveTime&&util.time.formatDate(o.leaveTime,"YYYY-MM-DD"),o.occupationType=o.occupationType&&_.last(o.occupationType),o.dicMap&&delete o.dicMap,1==e.isAdd?n["a"].requestSaveOverseasPeople(o,function(t){e.$popup.showNotification({type:"success",message:"境外人员添加成功！"}),e.resetForm(),e.$parent.handleQuery()}):0==e.isAdd&&n["a"].requestUpdateOverseasPeople(o,function(t){e.$popup.showNotification({type:"success",message:"境外人员修改成功！"}),e.resetForm(),e.$parent.handleQuery()})})},resetForm:function(){this.$refs["dialogForm"].resetFields(),this.$refs["vCheckedHouse"].resetForm(),this.$data.dialogVisible=!1,this.showPopover=!1,this.isAdd=!0,this.dialogForm={isFocus:0,sex:"1",livePlace:"610000",houseId:""}}}}),d=c,u=(o("4fd8"),o("2877")),p=Object(u["a"])(d,r,s,!1,null,null,null);p.options.__file="overseas-people-add.vue";var m=p.exports,h={components:{vAddDialog:m},data:function(){return{title:"境外人员",queryForm:{districtCode:"",chinessName:""},header:{"外文名":"foreignName","中文姓名":"chinessName","性别":"dicMap.sex","国籍(地区)":"dicMap.nationality","联系方式":"phone","来华目的":"dicMap.comingToChina","现住地详址":"livePlaceDetail","抵达日期":"arriveTime","预计离开日期":"leaveTime","是否重点关注人员":"dicMap.isFocus"},data:[],recordCount:0,disCodeOption:[],isShowCode:["6102"],dlgVisible:!1,configKey:"overseasPeople"}},mounted:function(){var e=this;n["a"].requestGridCode(function(t){e.disCodeOption=[t],e.isShowCode=[t.code],e.queryForm.districtCode=t.code})},watch:{queryForm:{handler:function(e,t){this.handleQuery()},deep:!0}},methods:{handleTreeNode:function(e){this.queryForm.districtCode=e.code},handleAdd:function(){this.$refs["vAddDialog"].dialogVisible=!0,this.$refs["vAddDialog"].isAdd=!0,this.$refs["vAddDialog"].title="添加"+this.title},handleDelete:function(e){var t=this;this.$popup.showLoading("正在删除中，请稍候..."),new Promise(function(t,o){var i=0;_.map(e,function(o,a){n["a"].requestDeleteOverseasPeople(o.id,function(o){i++,i==e.length&&t()})})}).then(function(){t.$popup.showNotification({type:"success",message:"境外人员删除成功！"}),t.handleQuery(),t.$popup.closeLoading()}).catch(function(){t.$popup.showNotification({type:"warning",message:"境外人员删除失败！"}),t.$popup.closeLoading()})},handlePageChange:function(){this.data=[],this.handleQuery()},handleView:function(e,t){this.dlgVisible=!0,this.$nextTick(function(){this.$refs["details"].data=t,this.$refs["details"].visible=!0})},handleEdit:function(e,t){this.$refs["vAddDialog"].dialogVisible=!0,this.$refs["vAddDialog"].isAdd=!1,this.$refs["vAddDialog"].title="修改"+this.title;var o=_.cloneDeep(t);if(null!=o.occupationType&&""!=o.occupationType){var i=[o.occupationType.substr(0,1)+"0000",o.occupationType.substr(0,3)+"00",o.occupationType];o.occupationType=_.uniq(i)}else o.occupationType=[];this.$refs["vAddDialog"].dialogForm=o},handleClear:function(){this.queryForm={districtCode:constants.REGION.CODE,chinessName:""}},handleQuery:function(){var e=this,t=this.$refs["list"].getPageInfo();t=Object(l["a"])({},t,_.cloneDeep(this.queryForm)),n["a"].requestPageOverseasPeople(t,function(o){0!=o.totalCount&&0==o.list.length?(t.page=o.totalPage,n["a"].requestPageOverseasPeople(t,function(t){e.recordCount=t.totalCount,_.map(t.list,function(e){e.dicMap&&(e.dicMap.isFocus=1==e.isFocus?"是":"否")}),e.data=t.list})):(e.recordCount=o.totalCount,_.map(o.list,function(e){e.dicMap&&(e.dicMap.isFocus=1==e.isFocus?"是":"否")}),e.data=o.list)})}}},f=h,g=Object(u["a"])(f,i,a,!1,null,null,null);g.options.__file="overseas-people-list.vue";t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-539a.bdf1f597.js.map