{"version":3,"sources":["webpack:///./src/views/campus_security/xxzbi-peo-add.vue?4e5c","webpack:///./src/views/campus_security/services/campus_security_service.js","webpack:///./src/views/campus_security/xxzbi-peo-list.vue?efcc","webpack:///./src/views/campus_security/xxzbi-peo-add.vue?39e7","webpack:///src/views/campus_security/xxzbi-peo-add.vue","webpack:///./src/views/campus_security/xxzbi-peo-add.vue?2215","webpack:///./src/views/campus_security/xxzbi-peo-add.vue","webpack:///src/views/campus_security/xxzbi-peo-list.vue","webpack:///./src/views/campus_security/xxzbi-peo-list.vue?7719","webpack:///./src/views/campus_security/xxzbi-peo-list.vue","webpack:///./src/api/sys/service.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_xxzbi_peo_add_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_xxzbi_peo_add_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","service","Object","F_demo_node_modules_babel_runtime_helpers_builtin_es6_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_api_sys_service_js__WEBPACK_IMPORTED_MODULE_3__","requestHouse","successFunc","_plugin_axios__WEBPACK_IMPORTED_MODULE_2__","url","method","then","data","requestSavePeopleInfo","param","requestBasePeople","id","requestUpdatePeopleInfo","requestPageCampusSecurity","name","districtCode","page","pageSize","requestCampusSecurityByCode","code","requestAllCampusSecurity","requestSingleCampusSecurity","requestSaveCampusSecurity","requestUpdateCampusSecurity","requestDeleteCampusSecurity","peopleId","requestPageXxzbiPeo","schoolId","requestPageXxzbiPeoByCode","requestSaveXxzbiPeo","requestUpdateXxzbiPeo","requestDeleteXxzbiPeo","requestPagePreferstCase","requestAllPreferstCase","requestSavePreferstCase","requestUpdatePreferstCase","requestDeletePreferstCase","__webpack_exports__","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","title","header","isShowCode","recordCount","disCodeOption","on","onAdd","handleAdd","onPageChange","handlePageChange","onDelete","handleDelete","onView","handleView","onEdit","handleEdit","onTreeNode","handleTreeNode","slot","type","justify","span","_v","placeholder","size","filterable","change-on-select","clearable","model","value","queryForm","callback","$$v","$set","expression","_l","item","index","key","label","maxlength","click","handleClear","handleQuery","configKey","_e","staticRenderFns","xxzbi_peo_addvue_type_template_id_5c4cd4fc_render","visible","dialogVisible","fullscreen","update:visible","$event","close","resetForm","activeName","isAdd","dic","houseOptions","onBasePeople","handleQueryBasePeople","dialogForm","rules","teamRules","label-width","gutter","prop","change","handleChangeCode","submitForm","xxzbi_peo_addvue_type_template_id_5c4cd4fc_staticRenderFns","xxzbi_peo_addvue_type_script_lang_js_","components","schListOption","危害程度","性别","民族","婚姻状况","政治面貌","学历","宗教信仰","职业类别","户籍地户主","居住地户主","行政区划","injuryLevel","isFocus","required","message","trigger","created","_this","that","campus_security_service","requestDicCatalog","dicKeys","_","keys","map","indexOf","requestDicType","handleTreeData","list","watch","_this2","$refs","validate","val","$nextTick","methods","find","itemONE","filter","street","slice","children","midItem","idCardNo","requestBasePeopleList","_this3","baseInfo","cloneDeep","baseForm","birthDate","util","time","formatDate","occupationType","last","dicMap","valid","console","log","comminForm","_this4","otherInfo","$popup","showNotification","$parent","pick","resetFields","$data","isfocus","campus_security_xxzbi_peo_addvue_type_script_lang_js_","component","componentNormalizer","options","__file","xxzbi_peo_add","xxzbi_peo_listvue_type_script_lang_js_","vAddDialog","姓名","学校","是否关注","dlgVisible","mounted","requestGridCode","handler","newName","oldName","deep","queryForm.districtCode","node","tableSelection","showLoading","Promise","resolve","reject","count","length","closeLoading","catch","row","disabled","constants","REGION","CODE","pageInfo","getPageInfo","objectSpread","totalCount","totalPage","schoolName","campus_security_xxzbi_peo_listvue_type_script_lang_js_","xxzbi_peo_list_component","_plugin_axios__WEBPACK_IMPORTED_MODULE_1__","res","region","sortBy","NAME","county","community","unit","catalogId","requestByEntityNames","entityNames","requestByFieldName","entityName","fieldName","requestByEntityAndFieldSum","requestFocusPeople","peoId","requestFocus","entity","focusId"],"mappings":"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","file":"assets/js/chunk-ebca.4937b321.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./xxzbi-peo-add.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./xxzbi-peo-add.vue?vue&type=style&index=0&lang=css&\"","import request from '@/plugin/axios';\r\nimport publicService from \"@/api/sys/service.js\";\r\n\r\nconst service = {\r\n    ...publicService,\r\n    /**\r\n     * 查询户信息\r\n     * \r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestHouse(successFunc) {\r\n        request({\r\n            url: \"/compre/hp/house/findPage?page=1&pageSize=1000\",\r\n            method: \"get\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n\r\n    /**\r\n     * 添加人口基本信息\r\n     * \r\n     * @param {any} param 人口基本信息\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestSavePeopleInfo(param, successFunc) {\r\n        request({\r\n            url: \"/compre/hp/people/save\",\r\n            method: \"post\",\r\n            data: param,\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n\r\n     /**\r\n     * 查询基本信息\r\n     * \r\n     * @param {any} id 基本信息ID\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestBasePeople(id, successFunc) {\r\n        request({\r\n            url: \"/compre/hp/people/find?id=\"+ id,\r\n            method: \"get\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n\r\n    /**\r\n     * 修改人口基本信息\r\n     * \r\n     * @param {any} param 人口基本信息\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestUpdatePeopleInfo(param, successFunc) {\r\n        request({\r\n            url: \"/compre/hp/people/update\",\r\n            method: \"post\",\r\n            data: param,\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n    /**\r\n     * 分页获取所有学校安全信息\r\n     * \r\n     * @param {any} param 分页参数及模糊查询参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestPageCampusSecurity(param, successFunc) {\r\n        request({\r\n            url: \"/compre/peace/school/info/findPage?name=\" + param.name + \"&districtCode=\" + param.districtCode + \"&page=\" + param.page + \"&pageSize=\" + param.pageSize,\r\n            method: \"get\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n     /**\r\n     * 根据区域编码获取学校安全信息\r\n     * \r\n     * @param {any} code 分页参数及模糊查询参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestCampusSecurityByCode(code, successFunc) {\r\n        request({\r\n            url: \"/compre/peace/school/info/findPage?&districtCode=\" + code,\r\n            method: \"get\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n    \r\n       /**\r\n     * 获取所有学校安全信息\r\n     * \r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestAllCampusSecurity(successFunc) {\r\n        request({\r\n            url: \"/compre/peace/school/info/findAll\",\r\n            method: \"get\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n \r\n        /**\r\n     * 单个查询学校安全信息\r\n     * \r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestSingleCampusSecurity(successFunc) {\r\n        request({\r\n            url: \"/compre/peace/school/info/find\",\r\n            method: \"get\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n\r\n    /**\r\n     * 添加学校安全信息\r\n     * \r\n     * @param {any} param 学校安全信息参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestSaveCampusSecurity(param, successFunc) {\r\n        request({\r\n            url: \"/compre/peace/school/info/save\",\r\n            method: \"post\",\r\n            data: param,\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n    /**\r\n     * 修改校园信息\r\n     * \r\n     * @param {any} param 学校安全信息参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestUpdateCampusSecurity(param, successFunc) {\r\n        request({\r\n            url: \"/compre/peace/school/info/update\",\r\n            method: \"post\",\r\n            data: param,\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n\r\n    /**\r\n     * 删除学校安全信息\r\n     * \r\n     * @param {any} param 学校安全信息参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestDeleteCampusSecurity(peopleId, successFunc) {\r\n        request({\r\n            url: \"/compre/peace/school/info/delete?id=\" + peopleId,\r\n            method: \"post\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n\r\n    /**\r\n     * 分页获取所有校园周边重点人员信息\r\n     * \r\n     * @param {any} param 分页参数及模糊查询参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestPageXxzbiPeo(param, successFunc) {\r\n        request({\r\n            url: \"/compre/peace/school/rim/findPage?schoolId=\" + param.schoolId + \"&districtCode=\" + param.districtCode + \"&name=\" + param.name +\"&page=\" + param.page + \"&pageSize=\" + param.pageSize,\r\n            method: \"get\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n/**\r\n     * 根据区域编码获取所有校园周边重点人员信息\r\n     * \r\n     * @param {any} param 分页参数及模糊查询参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestPageXxzbiPeoByCode(code, successFunc) {\r\n        request({\r\n            url: \"/compre/peace/school/rim/findPage?&districtCode=\"+ code,\r\n            method: \"get\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n    /**\r\n     * 添加校园周边重点人员信息\r\n     * \r\n     * @param {any} param 校园周边重点人员信息参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestSaveXxzbiPeo(param, successFunc) {\r\n        request({\r\n            url: \"/compre/peace/school/rim/save\",\r\n            method: \"post\",\r\n            data: param,\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n\r\n    /**\r\n     * 修改校园周边重点人员信息\r\n     * \r\n     * @param {any} param 校园周边重点人员信息参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestUpdateXxzbiPeo(param, successFunc) {\r\n        request({\r\n            url: \"/compre/peace/school/rim/update\",\r\n            method: \"post\",\r\n            data: param,\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n    /**\r\n     * 删除校园周边重点人员信息\r\n     * \r\n     * @param {any} param 校园周边重点人员信息参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestDeleteXxzbiPeo(peopleId, successFunc) {\r\n        request({\r\n            url: \"/compre/peace/school/rim/delete?id=\" + peopleId,\r\n            method: \"post\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n\r\n    /**\r\n     * 分页获取涉及师生安全案（事）件\r\n     * \r\n     * @param {any} param 分页参数及模糊查询参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestPagePreferstCase(param, successFunc) {\r\n        request({\r\n            url: \"/compre/peace/referTeach/findPage?name=\" + param.name + \"&districtCode=\" + param.districtCode + \"&page=\" + param.page + \"&pageSize=\" + param.pageSize + \"&schoolId=\" + param.schoolId,\r\n            method: \"get\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n\r\n/**\r\n     * 查询所有涉及师生安全案（事）件\r\n     * \r\n     * @param {any} param 分页参数及模糊查询参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestAllPreferstCase(param, successFunc) {\r\n        request({\r\n            url: \"/compre/peace/referTeach/findAll\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n\r\n    /**\r\n     * 添加涉及师生安全案（事）件\r\n     * \r\n     * @param {any} param 涉及师生安全案（事）件参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestSavePreferstCase(param, successFunc) {\r\n        request({\r\n            url: \"/compre/peace/referTeach/save\",\r\n            method: \"post\",\r\n            data: param,\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n\r\n    /**\r\n     * 修改涉及师生安全案（事）件\r\n     * \r\n     * @param {any} param 涉及师生安全案（事）件参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestUpdatePreferstCase(param, successFunc) {\r\n        request({\r\n            url: \"/compre/peace/referTeach/update\",\r\n            method: \"post\",\r\n            data: param,\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n    /**\r\n     * 删除涉及师生安全案（事）件\r\n     * \r\n     * @param {any} param 涉及师生安全案（事）件参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestDeletePreferstCase(peopleId, successFunc) {\r\n        request({\r\n            url: \"/compre/peace/referTeach/delete?id=\" + peopleId,\r\n            method: \"post\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    }\r\n};\r\nexport default service;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-list-page\"},[_c('techo-list',{ref:\"list\",attrs:{\"title\":_vm.title,\"header\":_vm.header,\"data\":_vm.data,\"isShowCode\":_vm.isShowCode,\"recordCount\":_vm.recordCount,\"disCodeOption\":_vm.disCodeOption},on:{\"onAdd\":_vm.handleAdd,\"onPageChange\":_vm.handlePageChange,\"onDelete\":_vm.handleDelete,\"onView\":_vm.handleView,\"onEdit\":_vm.handleEdit,\"onTreeNode\":_vm.handleTreeNode}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-row',{staticClass:\"techo-list__header-row\",attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('el-col',{attrs:{\"span\":10}},[_c('span',{staticClass:\"techo-list__header-col-txt-3\"},[_vm._v(\"学校：\")]),_c('div',{staticClass:\"techo-list__header-col-left-3\"},[_c('el-select',{attrs:{\"placeholder\":\"请选择学校\",\"size\":\"small\",\"filterable\":\"\",\"change-on-select\":\"\",\"clearable\":\"\"},model:{value:(_vm.queryForm.schoolId),callback:function ($$v) {_vm.$set(_vm.queryForm, \"schoolId\", $$v)},expression:\"queryForm.schoolId\"}},_vm._l((_vm.schListOption),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})}))],1)]),_c('el-col',{attrs:{\"span\":8}},[_c('span',{staticClass:\"techo-list__header-col-txt-4\"},[_vm._v(\"姓名：\")]),_c('div',{staticClass:\"techo-list__header-col-left-4\"},[_c('el-input',{staticClass:\"techo-list__header-select-full\",attrs:{\"placeholder\":\"请输入姓名\",\"maxlength\":10,\"size\":\"small\",\"clearable\":\"\"},model:{value:(_vm.queryForm.name),callback:function ($$v) {_vm.$set(_vm.queryForm, \"name\", $$v)},expression:\"queryForm.name\"}})],1)]),_c('el-col',{staticClass:\"techo-list__header-col-button\",attrs:{\"span\":5}},[_c('el-button',{staticClass:\"techo-list__header-button-reset\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.handleClear}},[_vm._v(\"清空\")]),_c('el-button',{staticClass:\"techo-list__header-button-query\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.handleQuery}},[_vm._v(\"查询\")])],1)],1)],1)]),(_vm.dlgVisible)?_c('techo-details',{ref:\"details\",attrs:{\"configKey\":_vm.configKey}}):_vm._e(),_c('vAddDialog',{ref:\"vAddDialog\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"add-dialog\",attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"fullscreen\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.resetForm}},[_c('el-tabs',{model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基本信息\",\"name\":\"first\"}},[_c('techo-people',{ref:\"vBaseForm\",attrs:{\"isAdd\":_vm.isAdd,\"dic\":_vm.dic,\"houseOptions\":_vm.houseOptions},on:{\"onBasePeople\":_vm.handleQueryBasePeople}})],1),_c('el-tab-pane',{attrs:{\"label\":\"附加信息\",\"name\":\"second\"}},[_c('el-form',{ref:\"dialogForm\",attrs:{\"model\":_vm.dialogForm,\"rules\":_vm.teamRules,\"label-width\":\"120px\"}},[_c('el-row',{attrs:{\"gutter\":15}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"学校\",\"prop\":\"schoolId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择学校\",\"clearable\":\"\"},on:{\"change\":_vm.handleChangeCode},model:{value:(_vm.dialogForm.schoolId),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"schoolId\", $$v)},expression:\"dialogForm.schoolId\"}},_vm._l((_vm.schListOption),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})}))],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"危害程度\",\"prop\":\"injuryLevel\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择危害程度\",\"clearable\":\"\"},model:{value:(_vm.dialogForm.injuryLevel),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"injuryLevel\", $$v)},expression:\"dialogForm.injuryLevel\"}},_vm._l((_vm.dic['危害程度']),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.code}})}))],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"是否重点关注人员\",\"prop\":\"isFocus\",\"label-width\":\"150px\"}},[_c('el-radio-group',{model:{value:(_vm.dialogForm.isFocus),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"isFocus\", $$v)},expression:\"dialogForm.isFocus\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1)],1)],1)],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.activeName == 'first')?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.activeName = 'second'}}},[_vm._v(\"下一步\")]):_vm._e(),(_vm.activeName == 'second')?_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":_vm.resetForm}},[_vm._v(\"取消\")]):_vm._e(),(_vm.activeName == 'second')?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.activeName = 'first'}}},[_vm._v(\"上一步\")]):_vm._e(),(_vm.activeName == 'second')?_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"small\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"保存\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-dialog class=\"add-dialog\" :title=\"title\" :visible.sync=\"dialogVisible\" @close=\"resetForm\" fullscreen>\r\n        <el-tabs v-model=\"activeName\">\r\n            <el-tab-pane label=\"基本信息\" name=\"first\">\r\n                <techo-people ref=\"vBaseForm\" :isAdd=\"isAdd\" :dic=\"dic\" :houseOptions=\"houseOptions\" @onBasePeople=\"handleQueryBasePeople\"></techo-people>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"附加信息\" name=\"second\">\r\n                <el-form ref=\"dialogForm\" :model=\"dialogForm\" :rules=\"teamRules\" label-width=\"120px\">\r\n                    <el-row :gutter=\"15\">\r\n                        <el-col :span=\"6\">\r\n                            <el-form-item label=\"学校\" prop=\"schoolId\">\r\n                                <el-select placeholder=\"请选择学校\" clearable v-model=\"dialogForm.schoolId\" @change=\"handleChangeCode\">\r\n                                    <el-option v-for=\"(item, index) in schListOption\" :label=\"item.name\" :value=\"item.id\"\r\n                                        :key=\"index\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"6\">\r\n                            <el-form-item label=\"危害程度\" prop=\"injuryLevel\">\r\n                                <el-select placeholder=\"请选择危害程度\" clearable v-model=\"dialogForm.injuryLevel\">\r\n                                    <el-option v-for=\"(item, index) in dic['危害程度']\" :label=\"item.name\" :value=\"item.code\"\r\n                                        :key=\"index\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"6\">\r\n                            <el-form-item label=\"是否重点关注人员\" prop=\"isFocus\" label-width=\"150px\">\r\n                                <el-radio-group v-model=\"dialogForm.isFocus\">\r\n                                    <el-radio :label=\"1\">是</el-radio>\r\n                                    <el-radio :label=\"0\">否</el-radio>\r\n                                </el-radio-group>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-form>\r\n            </el-tab-pane>\r\n        </el-tabs>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button v-if=\"activeName == 'first'\" type=\"primary\" size=\"small\" @click=\"activeName = 'second'\">下一步</el-button>\r\n            <el-button v-if=\"activeName == 'second'\" type=\"warning\" size=\"small\" @click=\"resetForm\">取消</el-button>\r\n            <el-button v-if=\"activeName == 'second'\" type=\"primary\" size=\"small\" @click=\"activeName = 'first'\">上一步</el-button>\r\n            <el-button v-if=\"activeName == 'second'\" type=\"success\" size=\"small\" @click=\"submitForm\">保存</el-button>\r\n        </div>\r\n    </el-dialog>\r\n</template>\r\n<script>\r\nimport service from \"./services/campus_security_service.js\";\r\n\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      isAdd: true,\r\n      title: \"\",\r\n      schListOption: [],\r\n      activeName: \"first\",\r\n      dic: {\r\n        危害程度: [],\r\n        性别: [],\r\n        民族: [],\r\n        婚姻状况: [],\r\n        政治面貌: [],\r\n        学历: [],\r\n        宗教信仰: [],\r\n        职业类别: [],\r\n        户籍地户主: [],\r\n        居住地户主: [],\r\n        行政区划: []\r\n      },\r\n\r\n      houseOptions: [],\r\n      dialogForm: {\r\n        peopleId: \"\",\r\n        schoolId: \"\",\r\n        injuryLevel: \"\",\r\n        isFocus: 0,\r\n        districtCode: \"\"\r\n      },\r\n      teamRules: {\r\n        schoolId: [\r\n          {\r\n            required: true,\r\n            message: \"请选择学校ID\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        injuryLevel: [\r\n          {\r\n            required: true,\r\n            message: \"选择危险程度\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        isFocus: [\r\n          {\r\n            required: true,\r\n            message: \"请选择是否关注\",\r\n            trigger: \"change\"\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    let that = this;\r\n    /** 获取字典表目录 */\r\n    service.requestDicCatalog(data => {\r\n      let dicKeys = _.keys(that.dic);\r\n      _.map(data, item => {\r\n        if (_.indexOf(dicKeys, item.name) != -1) {\r\n          /** 通过字典表目录ID查询字典表 */\r\n          service.requestDicType(item.id, data => {\r\n            if (item.name == \"职业类别\") {\r\n              that.dic[item.name] = that.handleTreeData(data);\r\n            } else {\r\n              that.dic[item.name] = data;\r\n            }\r\n          });\r\n        }\r\n      });\r\n    });\r\n    /** 获取户信息 */\r\n    service.requestHouse(data => {\r\n      this.houseOptions = data.list;\r\n    });\r\n  },\r\n\r\n  watch: {\r\n    activeName(name) {\r\n      if (name == \"second\") {\r\n        this.$refs[\"vBaseForm\"].$refs[\"baseForm\"].validate(val => {\r\n          if (!val) {\r\n            this.$nextTick(() => {\r\n              this.activeName = \"first\";\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    handleChangeCode(id) {\r\n      if (id) {\r\n        let code = this.schListOption.find(item => item.id == id).districtCode;\r\n        // 根据选中项重新获取区域编码\r\n        this.dialogForm.districtCode = code;\r\n      }\r\n    },\r\n    // 职业类型组成树形数据\r\n    handleTreeData(val) {\r\n      // 大类\r\n      let itemONE = _.map(\r\n        _.filter(val, street => {\r\n          return street.code.slice(1, 5) === \"0000\";\r\n        }),\r\n        street => {\r\n          return {\r\n            code: street.code,\r\n            label: street.name,\r\n            children: []\r\n          };\r\n        }\r\n      );\r\n      // 中类\r\n      _.map(itemONE, item => {\r\n        item.children = _.map(\r\n          _.filter(val, street => {\r\n            return (\r\n              street.code.slice(0, 1) === item.code.slice(0, 1) &&\r\n              street.code.slice(1, 5) !== \"0000\" &&\r\n              street.code.slice(3, 5) === \"00\"\r\n            );\r\n          }),\r\n          street => {\r\n            return {\r\n              code: street.code,\r\n              label: street.name,\r\n              children: []\r\n            };\r\n          }\r\n        );\r\n      });\r\n      // 小类\r\n      _.map(itemONE, midItem => {\r\n        _.map(midItem.children, item => {\r\n          item.children = _.map(\r\n            _.filter(val, street => {\r\n              return (\r\n                street.code.slice(0, 3) === item.code.slice(0, 3) &&\r\n                street.code.slice(3, 5) !== \"00\"\r\n              );\r\n            }),\r\n            street => {\r\n              return {\r\n                code: street.code,\r\n                label: street.name\r\n              };\r\n            }\r\n          );\r\n        });\r\n      });\r\n      return itemONE;\r\n    },\r\n    handleQueryBasePeople(idCardNo, callback) {\r\n      service.requestBasePeopleList(idCardNo, data => {\r\n        callback && callback(data.list);\r\n      });\r\n    },\r\n    /** 保存 */\r\n    submitForm() {\r\n      let baseInfo = _.cloneDeep(this.$refs[\"vBaseForm\"].baseForm);\r\n      baseInfo.birthDate =\r\n        baseInfo.birthDate &&\r\n        util.time.formatDate(baseInfo.birthDate, \"YYYY-MM-DD\");\r\n      baseInfo.occupationType = _.last(baseInfo.occupationType);\r\n      baseInfo.districtCode = _.last(baseInfo.districtCode);\r\n      baseInfo.dicMap && delete baseInfo.dicMap;\r\n      this.$refs[\"dialogForm\"].validate(valid => {\r\n        if (valid) {\r\n          if (baseInfo.id) {\r\n            // 修改基本信息\r\n            service.requestUpdatePeopleInfo(baseInfo, data => {\r\n              this.comminForm(data);\r\n            });\r\n          } else {\r\n            // 添加基本信息\r\n            service.requestSavePeopleInfo(baseInfo, data => {\r\n              this.comminForm(data);\r\n            });\r\n          }\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    /** 修改校园周边重点人员信息 */\r\n    comminForm(data) {\r\n      let otherInfo = _.cloneDeep(this.dialogForm);\r\n      otherInfo.dicMap && delete otherInfo.dicMap;\r\n      if (this.isAdd == true) {\r\n        otherInfo.peopleId = data.id;\r\n        // 添加 校园周边重点人员信息\r\n        service.requestSaveXxzbiPeo(otherInfo, data => {\r\n          console.log(otherInfo);\r\n          this.$popup.showNotification({\r\n            type: \"success\",\r\n            message: \"信息添加成功！\"\r\n          });\r\n          this.resetForm();\r\n          this.$parent.handleQuery();\r\n        });\r\n      } else {\r\n        // 修改 校园周边重点人员信息\r\n        let param = _.pick(otherInfo, [\r\n          \"id\",\r\n          \"injuryLevel\",\r\n          \"isFocus\",\r\n          \"peopleId\",\r\n          \"schoolId\"\r\n        ]);\r\n        service.requestUpdateXxzbiPeo(param, data => {\r\n          this.$popup.showNotification({\r\n            type: \"success\",\r\n            message: \"信息修改成功！\"\r\n          });\r\n          this.resetForm();\r\n          this.$parent.handleQuery();\r\n        });\r\n      }\r\n    },\r\n    /** 取消 */\r\n    resetForm() {\r\n      this.$refs[\"vBaseForm\"].$refs[\"baseForm\"].resetFields();\r\n      this.$refs[\"dialogForm\"].resetFields();\r\n      this.$refs[\"vBaseForm\"].baseForm = {};\r\n      this.$data.dialogVisible = false;\r\n      this.activeName = \"first\";\r\n      this.isAdd = true;\r\n      this.dialogForm = {\r\n        isfocus: 0,\r\n        districtCode: \"\"\r\n      };\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.add-dialog .el-date-editor.el-input {\r\n  width: 100%;\r\n}\r\n\r\n.add-dialog .el-select {\r\n  width: 100%;\r\n}\r\n\r\n.add-dialog .el-cascader {\r\n  width: 100%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./xxzbi-peo-add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./xxzbi-peo-add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./xxzbi-peo-add.vue?vue&type=template&id=5c4cd4fc&\"\nimport script from \"./xxzbi-peo-add.vue?vue&type=script&lang=js&\"\nexport * from \"./xxzbi-peo-add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./xxzbi-peo-add.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"xxzbi-peo-add.vue\"\nexport default component.exports"," <template>\r\n    <div class=\"table-list-page\">\r\n        <techo-list ref=\"list\" :title=\"title\" :header=\"header\" :data=\"data\" :isShowCode=\"isShowCode\" :recordCount=\"recordCount\" :disCodeOption=\"disCodeOption\" @onAdd=\"handleAdd\"\r\n            @onPageChange=\"handlePageChange\" @onDelete=\"handleDelete\" @onView=\"handleView\" @onEdit=\"handleEdit\" @onTreeNode=\"handleTreeNode\">\r\n            <div slot=\"header\">\r\n                <el-row type=\"flex\" justify=\"space-around\" class=\"techo-list__header-row\">                   \r\n                    <el-col :span=\"10\">\r\n                        <span class=\"techo-list__header-col-txt-3\">学校：</span>\r\n                         <div class=\"techo-list__header-col-left-3\">\r\n                            <el-select placeholder=\"请选择学校\" size=\"small\" \r\n                            filterable change-on-select clearable v-model=\"queryForm.schoolId\">\r\n                                <el-option v-for=\"(item, index) in schListOption\" :label=\"item.name\" :value=\"item.id\" :key=\"index\"></el-option>\r\n                            </el-select>\r\n                          </div>\r\n                    </el-col>\r\n                    \r\n                      <el-col :span=\"8\">\r\n                        <span class=\"techo-list__header-col-txt-4\">姓名：</span>\r\n                        <div class=\"techo-list__header-col-left-4\">\r\n                        <el-input placeholder=\"请输入姓名\" :maxlength=\"10\" size=\"small\" class=\"techo-list__header-select-full\"\r\n                            clearable v-model=\"queryForm.name\"></el-input>\r\n                        </div>\r\n                    </el-col>\r\n                    \r\n                    <el-col :span=\"5\" class=\"techo-list__header-col-button\">\r\n                        <el-button size=\"small\" class=\"techo-list__header-button-reset\" @click=\"handleClear\">清空</el-button>\r\n                        <el-button size=\"small\" class=\"techo-list__header-button-query\" @click=\"handleQuery\">查询</el-button>\r\n                    </el-col>\r\n                </el-row>\r\n            </div>\r\n        </techo-list>\r\n        \r\n        <techo-details v-if=\"dlgVisible\" ref=\"details\" :configKey=\"configKey\"></techo-details>\r\n        <vAddDialog ref=\"vAddDialog\"></vAddDialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport service from \"./services/campus_security_service.js\";\r\nimport vAddDialog from \"./xxzbi-peo-add.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    vAddDialog\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"学校周边重点人\",\r\n      schListOption: [],\r\n      header: {\r\n        姓名: \"name\",\r\n        学校: \"dicMap.schoolName\",\r\n        危害程度: \"dicMap.injuryLevel\",\r\n        是否关注: \"dicMap.isFocus\"\r\n      },\r\n      data: [],\r\n      recordCount: 0,\r\n      queryForm: {\r\n        name: \"\",\r\n        districtCode: \"\",\r\n        schoolId: \"\"\r\n      },\r\n      isShowCode: [\"6102\"], //c 数默认展开第一级\r\n      // 详情页面是否显示\r\n      disCodeOption: [],\r\n      dlgVisible: false,\r\n      configKey: \"schoolRimPeo\"\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    service.requestGridCode(data => {\r\n      this.disCodeOption = [data];\r\n      this.isShowCode = [data.code];\r\n      this.queryForm.districtCode = data.code;\r\n    });\r\n\r\n    service.requestCampusSecurityByCode(this.queryForm.districtCode, data => {\r\n      this.schListOption = data.list;\r\n    });\r\n  },\r\n  watch: {\r\n    queryForm: {\r\n      handler(newName, oldName) {\r\n        this.handleQuery();\r\n      },\r\n      deep: true\r\n    },\r\n    \"queryForm.districtCode\": {\r\n      handler(code) {\r\n        service.requestCampusSecurityByCode(code, data => {\r\n          this.schListOption = data.list;\r\n        });\r\n      }\r\n    }\r\n  },\r\n   methods: {\r\n    /** 点击行政区树 返回行政区编码 */\r\n    handleTreeNode(node) {\r\n      this.queryForm.districtCode = node.code;\r\n    },\r\n    /** 添加校园周边重点人员信息 */\r\n    handleAdd() {\r\n      this.$refs[\"vAddDialog\"].dialogVisible = true;\r\n      this.$refs[\"vAddDialog\"].isAdd = true;\r\n      this.$refs[\"vAddDialog\"].title = \"添加\" + this.title;\r\n      this.$refs[\"vAddDialog\"].dialogForm.districtCode = this.queryForm.districtCode;\r\n      this.$refs[\"vAddDialog\"].schListOption = this.schListOption;\r\n    },\r\n    /** 删除校园周边重点人员信息 */\r\n    handleDelete(tableSelection) {\r\n      let that = this;\r\n      this.$popup.showLoading(\"正在删除中，请稍候...\");\r\n      new Promise((resolve, reject) => {\r\n        let count = 0;\r\n        _.map(tableSelection, (item, index) => {\r\n          service.requestDeleteXxzbiPeo(item.id, data => {\r\n            count == tableSelection.length - 1 && resolve();\r\n          });\r\n        });\r\n      })\r\n        .then(() => {\r\n          that.$popup.showNotification({\r\n            type: \"success\",\r\n            message: \"信息删除成功！\"\r\n          });\r\n          that.handleQuery();\r\n          that.$popup.closeLoading();\r\n        })\r\n        .catch(() => {\r\n          that.$popup.showNotification({\r\n            type: \"warning\",\r\n            message: \"信息删除失败！\"\r\n          });\r\n          that.$popup.closeLoading();\r\n        });\r\n    },\r\n    /** 页码改变后执行的函数 */\r\n    handlePageChange() {\r\n      this.data = [];\r\n      this.handleQuery();\r\n    },\r\n    /** 查看信息 */\r\n    handleView(index, row) {\r\n      this.dlgVisible = true;\r\n      this.$nextTick(function() {\r\n        this.$refs[\"details\"].data = row;\r\n        this.$refs[\"details\"].visible = true;\r\n      });\r\n    },\r\n    /** 修改信息 */\r\n    handleEdit(index, row) {\r\n      this.$refs[\"vAddDialog\"].dialogVisible = true;\r\n      this.$refs[\"vAddDialog\"].disabled = true;\r\n      this.$refs[\"vAddDialog\"].isAdd = false;\r\n      this.$refs[\"vAddDialog\"].title = \"修改\" + this.title;\r\n      // 获取基本信息\r\n      service.requestBasePeople(row.peopleId, data => {\r\n        this.$refs[\"vAddDialog\"].$refs[\"vBaseForm\"].baseForm = data;\r\n      });\r\n      this.$refs[\"vAddDialog\"].dialogForm = _.cloneDeep(row);\r\n    },\r\n    /** 清空查询条件 */\r\n    handleClear() {\r\n      this.queryForm = {\r\n        districtCode: constants.REGION.CODE,\r\n        schoolId: \"\"\r\n      };\r\n    },\r\n    /** 查询列表 */\r\n    handleQuery() {\r\n      let pageInfo = this.$refs[\"list\"].getPageInfo();\r\n      pageInfo = { ...pageInfo, ..._.cloneDeep(this.queryForm) };\r\n      service.requestPageXxzbiPeo(pageInfo, data => {\r\n        if (data.totalCount != 0 && data.list.length == 0) {\r\n          pageInfo.page = data.totalPage;\r\n          service.requestPageXxzbiPeo(pageInfo, data => {\r\n            this.recordCount = data.totalCount;\r\n            _.map(data.list, item => {\r\n              if (item.dicMap) {\r\n                item.dicMap.schoolName = item.schoolName;\r\n                item.dicMap.isFocus = item.isFocus == 1 ? \"是\" : \"否\";\r\n              }\r\n            });\r\n            this.data = data.list;\r\n          });\r\n        } else {\r\n          this.recordCount = data.totalCount;\r\n          _.map(data.list, item => {\r\n            if (item.dicMap) {\r\n              item.dicMap.schoolName = item.schoolName;\r\n              item.dicMap.isFocus = item.isFocus == 1 ? \"是\" : \"否\";\r\n            }\r\n          });\r\n          this.data = data.list;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./xxzbi-peo-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./xxzbi-peo-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./xxzbi-peo-list.vue?vue&type=template&id=350bb14e&\"\nimport script from \"./xxzbi-peo-list.vue?vue&type=script&lang=js&\"\nexport * from \"./xxzbi-peo-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"xxzbi-peo-list.vue\"\nexport default component.exports","import request from '@/plugin/axios'\r\n\r\nconst service = {\r\n    /**\r\n     * 获取网格编码\r\n     * \r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestGridCode(successFunc) {\r\n        request({\r\n            url: \"/grid/rstu/find/all/code\",\r\n            method: \"get\",\r\n        }).then((res) => {\r\n            res.region = _.sortBy(res.region, \"code\");\r\n            let code = constants.REGION.CODE;\r\n            let region = {\r\n                code: code,\r\n                label: constants.REGION.NAME,\r\n                children: []\r\n            };\r\n            let itemONE = {};\r\n            switch (code && code.length) {\r\n                case 4:\r\n                    // 组织县级区域\r\n                    itemONE = _.map(res.region, county => {\r\n                        return {\r\n                            code: county.code,\r\n                            label: county.name,\r\n                            children: []\r\n                        };\r\n                    })\r\n                    // 组织街道办区域\r\n                    _.map(itemONE, item => {\r\n                        item.children = _.map(_.filter(res.street, street => {\r\n                            return street.code.indexOf(item.code) >= 0\r\n                        }), street => {\r\n                            return {\r\n                                code: street.code,\r\n                                label: street.name,\r\n                                children: []\r\n                            };\r\n                        })\r\n                    })\r\n                    // 组织社区区域\r\n                    _.map(itemONE, county => {\r\n                        _.map(county.children, item => {\r\n                            item.children = _.map(_.filter(res.community, community => {\r\n                                return community.code.indexOf(item.code) >= 0\r\n                            }), community => {\r\n                                return {\r\n                                    code: community.code,\r\n                                    label: community.name,\r\n                                    children: []\r\n                                };\r\n                            })\r\n                        })\r\n                    })\r\n                    // 组织单元网格区域\r\n                    _.map(itemONE, county => {\r\n                        _.map(county.children, street => {\r\n                            _.map(street.children, item => {\r\n                                item.children = _.map(_.filter(res.unit, unit => {\r\n                                    return unit.code.indexOf(item.code) >= 0\r\n                                }), unit => {\r\n                                    return {\r\n                                        code: unit.code,\r\n                                        label: unit.name\r\n                                    };\r\n                                })\r\n                            })\r\n                        })\r\n                    })\r\n                    break;\r\n                case 6:\r\n                    // 组织街道办\r\n                    itemONE = _.map(_.filter(res.street, street => {\r\n                        return street.code.indexOf(code) >= 0\r\n                    }), street => {\r\n                        return {\r\n                            code: street.code,\r\n                            label: street.name,\r\n                            children: []\r\n                        };\r\n                    });\r\n                    // 组织社区\r\n                    _.map(itemONE, item => {\r\n                        item.children = _.map(_.filter(res.community, community => {\r\n                            return community.code.indexOf(item.code) >= 0\r\n                        }), community => {\r\n                            return {\r\n                                code: community.code,\r\n                                label: community.name,\r\n                                children: []\r\n                            };\r\n                        })\r\n                    })\r\n\r\n                    // 组织网格\r\n                    _.map(itemONE, county => {\r\n                        _.map(county.children, item => {\r\n                            item.children = _.map(_.filter(res.unit, unit => {\r\n                                return unit.code.indexOf(item.code) >= 0\r\n                            }), unit => {\r\n                                return {\r\n                                    code: unit.code,\r\n                                    label: unit.name,\r\n                                };\r\n                            })\r\n                        })\r\n                    })\r\n                    break;\r\n                case 9:\r\n                    // 组织社区\r\n                    itemONE = _.map(_.filter(res.community, community => {\r\n                        return community.code.indexOf(code) >= 0\r\n                    }), community => {\r\n                        return {\r\n                            code: community.code,\r\n                            label: community.name,\r\n                            children: []\r\n                        };\r\n                    })\r\n                    // 组织网格\r\n                    _.map(itemONE, item => {\r\n                        item.children = _.map(_.filter(res.unit, unit => {\r\n                            return unit.code.indexOf(item.code) >= 0\r\n                        }), unit => {\r\n                            return {\r\n                                code: unit.code,\r\n                                label: unit.name\r\n                            };\r\n                        })\r\n                    })\r\n                    break;\r\n                case 12:\r\n                    // 组织网格\r\n                    itemONE = _.map(_.filter(res.unit, unit => {\r\n                        return unit.code.indexOf(code) >= 0\r\n                    }), unit => {\r\n                        return {\r\n                            code: unit.code,\r\n                            label: unit.name,\r\n                        };\r\n                    })\r\n                    break;\r\n                default:\r\n                    break;\r\n            };\r\n            region.children = itemONE;\r\n            successFunc(region);\r\n        })\r\n    },\r\n    /**\r\n     * 查询字典表目录\r\n     * \r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestDicCatalog(successFunc) {\r\n        request({\r\n            url: \"/buss/info/dictionary/catalog/findAll\",\r\n            method: \"get\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n    /**\r\n     * 通过字典表目录ID查询字典表\r\n     * \r\n     * @param {any} catalogId 字典表目录ID\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestDicType(catalogId, successFunc) {\r\n        request({\r\n            url: \"/buss/info/dictionary/findDicByCatalogId?catalogId=\"+ catalogId,\r\n            method: \"get\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n    /**\r\n     * 通过实体类名和属性名统计\r\n     * \r\n     * @param {any} param 查询参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestByEntityNames(param, successFunc) {\r\n        request({\r\n            url: \"/compre/statis/common/district?districtCode=\"+ param.districtCode +\"&entityNames=\"+ param.entityNames,\r\n            method: \"get\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n    /**\r\n     * 根据字段属性占比查询\r\n     * \r\n     * @param {any} param 查询参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestByFieldName(param, successFunc) {\r\n        request({\r\n            url: \"/compre/statis/common/field?districtCode=\"+ param.districtCode +\"&entityName=\"+ param.entityName+\"&fieldName=\"+ param.fieldName,\r\n            method: \"get\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n    /**\r\n     * 区域属性值和的统计\r\n     * \r\n     * @param {any} param 统计参数\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestByEntityAndFieldSum(param, successFunc) {\r\n        request({\r\n            url: \"/compre/statis/common/district/field/sum?districtCode=\"+ param.districtCode +\"&entityName=\"+ param.entityName+\"&fieldName=\"+ param.fieldName,\r\n            method: \"get\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n\r\n    /**\r\n     * 查询基本人口的综治信息\r\n     * \r\n     * @param {any} peoId 基本人口 ID\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestFocusPeople(peoId, successFunc) {\r\n        request({\r\n            url: \"/compre/hp/people/find/compreInfo?id=\"+ peoId,\r\n            method: \"get\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n    /**\r\n     * 查询重点关注人信息\r\n     * \r\n     * @param {any} param 查询参数  entity人员类型  focusId人员ID\r\n     * @param {any} successFunc 回调函数\r\n     */\r\n    requestFocus(param, successFunc) {\r\n        request({\r\n            url: \"/compre/\"+ param.entity +\"/find?id=\"+ param.focusId,\r\n            method: \"get\",\r\n        }).then((data) => {\r\n            successFunc(data);\r\n        })\r\n    },\r\n}\r\n\r\nexport default service;"],"sourceRoot":""}