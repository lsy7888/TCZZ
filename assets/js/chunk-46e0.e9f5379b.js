(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46e0"],{"0158":function(e,t,a){},4227:function(e,t,a){"use strict";a("7f7f");var i=a("c93e"),o=a("9bd2"),n=a("ba4a"),r=Object(i["a"])({},n["a"],{requestPageDistrictCheck:function(e,t){Object(o["a"])({url:"/compre/peace/check/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveDistrictCheck:function(e,t){Object(o["a"])({url:"/compre/peace/check/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateDistrictCheck:function(e,t){Object(o["a"])({url:"/compre/peace/check/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteDistrictCheck:function(e,t){Object(o["a"])({url:"/compre/peace/check/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageCaseInfo:function(e,t){Object(o["a"])({url:"/compre/peace/mur/info/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestCaseInfoByCode:function(e,t){Object(o["a"])({url:"/compre/peace/mur/info/findPage?&districtCode="+e,method:"get"}).then(function(e){t(e)})},requestAllCaseList:function(e){Object(o["a"])({url:"/compre/peace/mur/info/findAll",method:"get"}).then(function(t){e(t)})},requestSaveCaseInfo:function(e,t){Object(o["a"])({url:"/compre/peace/mur/info/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateCaseInfo:function(e,t){Object(o["a"])({url:"/compre/peace/mur/info/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteCaseInfo:function(e,t){Object(o["a"])({url:"/compre/peace/mur/info/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageSuspect:function(e,t){Object(o["a"])({url:"/compre/peace/mur/suspect/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize+"&murcaseId="+e.murcaseId,method:"get"}).then(function(e){t(e),c})},requestSaveSuspect:function(e,t){Object(o["a"])({url:"/compre/peace/mur/suspect/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateSuspect:function(e,t){Object(o["a"])({url:"/compre/peace/mur/suspect/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteSuspect:function(e,t){Object(o["a"])({url:"/compre/peace/mur/suspect/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageVictim:function(e,t){Object(o["a"])({url:"/compre/peace/mur/victim/findPage?name="+e.name+"&murcaseId="+e.murcaseId+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveVictim:function(e,t){Object(o["a"])({url:"/compre/peace/mur/victim/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateVictim:function(e,t){Object(o["a"])({url:"/compre/peace/mur/victim/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteVictim:function(e,t){Object(o["a"])({url:"/compre/peace/mur/victim/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageLogisticsSafe:function(e,t){Object(o["a"])({url:"/compre/peace/safe/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveLogisticsSafe:function(e,t){Object(o["a"])({url:"/compre/peace/safe/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateLogisticsSafe:function(e,t){Object(o["a"])({url:"/compre/peace/safe/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteLogisticsSafe:function(e,t){Object(o["a"])({url:"/compre/peace/safe/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestsTimeYear:function(e,t){Object(o["a"])({url:"/compre/peace/statis/mur/info/stimeYear?districtCode="+e,method:"get"}).then(function(e){t(e)})},requesteTimeYear:function(e,t){Object(o["a"])({url:"/compre/peace/statis/mur/info/stimeYear?districtCode="+e,method:"get"}).then(function(e){t(e)})}});t["a"]=r},"52ed":function(e,t,a){"use strict";var i=a("0158"),o=a.n(i);o.a},ba4a:function(e,t,a){"use strict";a("7f7f");var i=a("9bd2"),o={requestGridCode:function(e){Object(i["a"])({url:"/grid/rstu/find/all/code",method:"get"}).then(function(t){t.region=_.sortBy(t.region,"code");var a=constants.REGION.CODE,i={code:a,label:constants.REGION.NAME,children:[]},o={};switch(a&&a.length){case 4:o=_.map(t.region,function(e){return{code:e.code,label:e.name,children:[]}}),_.map(o,function(e){e.children=_.map(_.filter(t.street,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})}),_.map(o,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.community,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})})}),_.map(o,function(e){_.map(e.children,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})})})});break;case 6:o=_.map(_.filter(t.street,function(e){return e.code.indexOf(a)>=0}),function(e){return{code:e.code,label:e.name,children:[]}}),_.map(o,function(e){e.children=_.map(_.filter(t.community,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})}),_.map(o,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})})});break;case 9:o=_.map(_.filter(t.community,function(e){return e.code.indexOf(a)>=0}),function(e){return{code:e.code,label:e.name,children:[]}}),_.map(o,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})});break;case 12:o=_.map(_.filter(t.unit,function(e){return e.code.indexOf(a)>=0}),function(e){return{code:e.code,label:e.name}});break;default:break}i.children=o,e(i)})},requestDicCatalog:function(e){Object(i["a"])({url:"/buss/info/dictionary/catalog/findAll",method:"get"}).then(function(t){e(t)})},requestDicType:function(e,t){Object(i["a"])({url:"/buss/info/dictionary/findDicByCatalogId?catalogId="+e,method:"get"}).then(function(e){t(e)})},requestByEntityNames:function(e,t){Object(i["a"])({url:"/compre/statis/common/district?districtCode="+e.districtCode+"&entityNames="+e.entityNames,method:"get"}).then(function(e){t(e)})},requestByFieldName:function(e,t){Object(i["a"])({url:"/compre/statis/common/field?districtCode="+e.districtCode+"&entityName="+e.entityName+"&fieldName="+e.fieldName,method:"get"}).then(function(e){t(e)})},requestByEntityAndFieldSum:function(e,t){Object(i["a"])({url:"/compre/statis/common/district/field/sum?districtCode="+e.districtCode+"&entityName="+e.entityName+"&fieldName="+e.fieldName,method:"get"}).then(function(e){t(e)})},requestFocusPeople:function(e,t){Object(i["a"])({url:"/compre/hp/people/find/compreInfo?id="+e,method:"get"}).then(function(e){t(e)})},requestFocus:function(e,t){Object(i["a"])({url:"/compre/"+e.entity+"/find?id="+e.focusId,method:"get"}).then(function(e){t(e)})}};t["a"]=o},e5ee:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-list-page"},[a("techo-list",{ref:"list",attrs:{title:e.title,header:e.header,data:e.data,isShowCode:e.isShowCode,recordCount:e.recordCount,disCodeOption:e.disCodeOption},on:{onAdd:e.handleAdd,onPageChange:e.handlePageChange,onDelete:e.handleDelete,onView:e.handleView,onEdit:e.handleEdit,onTreeNode:e.handleTreeNode}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("el-row",{staticClass:"techo-list__header-row",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:10}},[a("span",{staticClass:"techo-list__header-col-txt-4"},[e._v("案卷名称：")]),a("div",{staticClass:"techo-list__header-col-left-4"},[a("el-input",{staticClass:"techo-list__header-select-full",attrs:{placeholder:"请输入姓名",maxlength:10,size:"small",clearable:""},model:{value:e.queryForm.name,callback:function(t){e.$set(e.queryForm,"name",t)},expression:"queryForm.name"}})],1)]),a("el-col",{attrs:{span:9}}),a("el-col",{staticClass:"techo-list__header-col-button",attrs:{span:5}},[a("el-button",{staticClass:"techo-list__header-button-reset",attrs:{size:"small"},on:{click:e.handleClear}},[e._v("清空")]),a("el-button",{staticClass:"techo-list__header-button-query",attrs:{size:"small"},on:{click:e.handleQuery}},[e._v("查询")])],1)],1)],1)]),e.dlgVisible?a("techo-details",{ref:"details",attrs:{configKey:e.configKey,height:"60%"}}):e._e(),a("vAddDialog",{ref:"vAddDialog"})],1)},o=[],n=a("c93e"),c=a("4227"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"add-dialog",attrs:{title:e.title,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},close:e.resetForm}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.teamRules,"label-width":"120px"}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"案卷名称",prop:"name"}},[a("el-input",{attrs:{maxlength:25,placeholder:"请填写案卷名称"},model:{value:e.dialogForm.name,callback:function(t){e.$set(e.dialogForm,"name",t)},expression:"dialogForm.name"}})],1),a("el-form-item",{attrs:{label:"案卷开始日期",prop:"startDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:e.dialogForm.startDate,callback:function(t){e.$set(e.dialogForm,"startDate",t)},expression:"dialogForm.startDate"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"案卷编号",prop:"caseNo"}},[a("el-input",{attrs:{maxlength:25,placeholder:"请填写案卷编号"},model:{value:e.dialogForm.caseNo,callback:function(t){e.$set(e.dialogForm,"caseNo",t)},expression:"dialogForm.caseNo"}})],1),a("el-form-item",{attrs:{label:"侦查终结日期",prop:"endDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:e.dialogForm.endDate,callback:function(t){e.$set(e.dialogForm,"endDate",t)},expression:"dialogForm.endDate"}})],1)],1)],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"地址编码",prop:"address"}},[a("el-input",{attrs:{maxlength:32,placeholder:"请填写地址编码"},model:{value:e.dialogForm.address,callback:function(t){e.$set(e.dialogForm,"address",t)},expression:"dialogForm.address"}})],1)],1),a("el-col",{attrs:{span:12}})],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"简要情况",prop:"caseDesc"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:4e3,placeholder:"请填写简要情况"},model:{value:e.dialogForm.caseDesc,callback:function(t){e.$set(e.dialogForm,"caseDesc",t)},expression:"dialogForm.caseDesc"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning",size:"small"},on:{click:e.resetForm}},[e._v("取消")]),a("el-button",{attrs:{type:"success",size:"small"},on:{click:e.submitForm}},[e._v("保存")])],1)],1)},s=[],d=(a("7f7f"),a("ac6a"),{data:function(){return{dialogVisible:!1,isAdd:!0,title:"",disCodeOption:[],dialogForm:{name:"",caseNo:"",startDate:"",endDate:"",caseDesc:"",address:"",districtCode:[]},teamRules:{name:[{required:!0,message:"请输入案卷名称",trigger:"blur"}],caseNo:[{required:!0,message:"请输入案卷编号",trigger:"blur"}],startDate:[{required:!0,message:"请选择案卷开始日期",trigger:"change"}],districtCode:[{required:!0,message:"请选择区域编码",trigger:"change"}]}}},watch:{},created:function(){var e=this;c["a"].requestDicCatalog(function(t){var a=_.keys(e.dic);_.map(t,function(t){-1!=_.indexOf(a,t.name)&&c["a"].requestDicType(t.id,function(a){e.dic[t.name]=a})})})},methods:{submitForm:function(){var e=this;this.$refs["dialogForm"].validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=_.cloneDeep(e.dialogForm);a.startDate=util.time.formatDate(a.startDate,"YYYY-MM-DD"),a.endDate=util.time.formatDate(a.endDate,"YYYY-MM-DD"),a.dicMap&&delete a.dicMap,1==e.isAdd?c["a"].requestSaveCaseInfo(a,function(t){e.$popup.showNotification({type:"success",message:"命案基本信息添加成功！"}),e.resetForm(),e.$parent.handleQuery()}):c["a"].requestUpdateCaseInfo(a,function(t){e.$popup.showNotification({type:"success",message:"命案基本信息修改成功！"}),e.resetForm(),e.$parent.handleQuery()})})},resetForm:function(){this.$refs["dialogForm"].resetFields(),this.$data.dialogVisible=!1,this.isAdd=!0,this.dialogForm={}}}}),l=d,u=(a("52ed"),a("2877")),m=Object(u["a"])(l,r,s,!1,null,null,null);m.options.__file="case-info-add.vue";var f=m.exports,p={components:{vAddDialog:f},data:function(){return{title:"命案防控",queryForm:{districtCode:"",name:""},header:{"案卷名称":"name","案卷编号":"caseNo","案卷发生开始日期":"startDate","侦查终结日期":"endDate"},data:[],recordCount:0,disCodeOption:[],isShowCode:["6102"],dlgVisible:!1,configKey:"caseInfo"}},mounted:function(){var e=this;c["a"].requestGridCode(function(t){e.disCodeOption=[t],e.isShowCode=[t.code],e.queryForm.districtCode=t.code})},watch:{queryForm:{handler:function(e,t){this.handleQuery()},deep:!0}},methods:{handleTreeNode:function(e){this.queryForm.districtCode=e.code},handleAdd:function(){this.$refs["vAddDialog"].dialogVisible=!0,this.$refs["vAddDialog"].isAdd=!0,this.$refs["vAddDialog"].title="添加"+this.title,this.$refs["vAddDialog"].dialogForm.districtCode=this.queryForm.districtCode},handleDelete:function(e){var t=this;this.$popup.showLoading("正在删除中，请稍候..."),new Promise(function(t,a){var i=0;_.map(e,function(a,o){c["a"].requestDeleteCaseInfo(a.id,function(a){i==e.length-1&&t()})})}).then(function(){t.$popup.showNotification({type:"success",message:"命案基本信息删除成功！"}),t.handleQuery(),t.$popup.closeLoading()}).catch(function(){t.$popup.showNotification({type:"warning",message:"命案基本信息删除失败！"}),t.$popup.closeLoading()})},handlePageChange:function(){this.data=[],this.handleQuery()},handleView:function(e,t){this.dlgVisible=!0,this.$nextTick(function(){this.$refs["details"].data=t,this.$refs["details"].visible=!0})},handleEdit:function(e,t){this.$refs["vAddDialog"].dialogVisible=!0,this.$refs["vAddDialog"].isAdd=!1,this.$refs["vAddDialog"].title="修改"+this.title,this.$refs["vAddDialog"].dialogForm=_.cloneDeep(t)},handleClear:function(){this.queryForm={districtCode:constants.REGION.CODE,name:""}},handleQuery:function(){var e=this,t=this.$refs["list"].getPageInfo();t=Object(n["a"])({},t,_.cloneDeep(this.queryForm)),c["a"].requestPageCaseInfo(t,function(a){0!=a.totalCount&&0==a.list.length?(t.page=a.totalPage,c["a"].requestPageCaseInfo(t,function(t){e.recordCount=t.totalCount,_.map(t.list,function(e){e.dicMap={},e.dicMap.isHaveSub=0!==e.suspectCount||0!==e.victimCount}),e.data=t.list})):(e.recordCount=a.totalCount,_.map(a.list,function(e){e.dicMap={},e.dicMap.isHaveSub=0!==e.suspectCount||0!==e.victimCount}),e.data=a.list)})}}},h=p,g=Object(u["a"])(h,i,o,!1,null,null,null);g.options.__file="case-info-list.vue";t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-46e0.e9f5379b.js.map