(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f1e"],{"1f8c":function(e,t,n){"use strict";t["a"]={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{data:[]},grid:{top:"20%",bottom:"3%",left:"3%",right:"4%",containLabel:!0},xAxis:{type:"category",data:[]},yAxis:{type:"value",name:""},series:[]}},"4e01":function(e,t,n){"use strict";var a=n("51c4"),i=n.n(a);i.a},"51c4":function(e,t,n){},6071:function(e,t,n){"use strict";n("7f7f");var a=n("c93e"),i=n("9bd2"),o=n("ba4a"),r=Object(a["a"])({},o["a"],{requestPageOrgList:function(e,t){Object(i["a"])({url:"/compre/compre/organization/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestOrgListByCode:function(e,t){Object(i["a"])({url:"/compre/compre/organization/findPage?&districtCode="+e,method:"get"}).then(function(e){t(e)})},requestSaveOrg:function(e,t){Object(i["a"])({url:"/compre/compre/organization/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateOrg:function(e,t){Object(i["a"])({url:"/compre/compre/organization/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteOrg:function(e,t){Object(i["a"])({url:"/compre/compre/organization/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageTeamList:function(e,t){Object(i["a"])({url:"/compre/compre/orgTeam/findPage?orgId="+e.orgId+"&districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveTeam:function(e,t){Object(i["a"])({url:"/compre/compre/orgTeam/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateTeam:function(e,t){Object(i["a"])({url:"/compre/compre/orgTeam/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteTeam:function(e,t){Object(i["a"])({url:"/compre/compre/orgTeam/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageGridList:function(e,t){Object(i["a"])({url:"/compre/compre/gridMsg/findPage?districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveGrid:function(e,t){Object(i["a"])({url:"/compre/compre/gridMsg/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateGrid:function(e,t){Object(i["a"])({url:"/compre/compre/gridMsg/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteGrid:function(e,t){Object(i["a"])({url:"/compre/compre/gridMsg/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageBuildLeader:function(e,t){Object(i["a"])({url:"/compre/compre/buildingLeader/findPage?districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveBuildLeader:function(e,t){Object(i["a"])({url:"/compre/compre/buildingLeader/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateBuildLeader:function(e,t){Object(i["a"])({url:"/compre/compre/buildingLeader/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteBuildLeader:function(e,t){Object(i["a"])({url:"/compre/compre/buildingLeader/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageLeaderDuty:function(e,t){Object(i["a"])({url:"/compre/compre/leadAcc/findPage?districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveLeaderDuty:function(e,t){Object(i["a"])({url:"/compre/compre/leadAcc/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateLeaderDuty:function(e,t){Object(i["a"])({url:"/compre/compre/leadAcc/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteLeaderDuty:function(e,t){Object(i["a"])({url:"/compre/compre/leadAcc/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageCase:function(e,t){Object(i["a"])({url:"/compre/compre/greatCase/findPage?districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveCase:function(e,t){Object(i["a"])({url:"/compre/compre/greatCase/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateCase:function(e,t){Object(i["a"])({url:"/compre/compre/greatCase/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteCase:function(e,t){Object(i["a"])({url:"/compre/compre/greatCase/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageOrgMassList:function(e,t){Object(i["a"])({url:"/compre/compre/prevent/findPage?districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestOrgMassListBycode:function(e,t){Object(i["a"])({url:"/compre/compre/prevent/findPage?districtCode="+e,method:"get"}).then(function(e){t(e)})},requestSaveOrgMass:function(e,t){Object(i["a"])({url:"/compre/compre/prevent/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateOrgMass:function(e,t){Object(i["a"])({url:"/compre/compre/prevent/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteOrgMass:function(e,t){Object(i["a"])({url:"/compre/compre/prevent/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageMassTeam:function(e,t){Object(i["a"])({url:"/compre/compre/prevent/team/findPage?districtCode="+e.districtCode+"&PeventId="+e.PeventId+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveMassTeam:function(e,t){Object(i["a"])({url:"/compre/compre/prevent/team/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateMassTeam:function(e,t){Object(i["a"])({url:"/compre/compre/prevent/team/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteMassTeam:function(e,t){Object(i["a"])({url:"/compre/compre/prevent/team/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageCenter:function(e,t){Object(i["a"])({url:"/compre/compre/center/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveCenter:function(e,t){Object(i["a"])({url:"/compre/compre/center/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateCenter:function(e,t){Object(i["a"])({url:"/compre/compre/center/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteCenter:function(e,t){Object(i["a"])({url:"/compre/compre/center/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageSafeVideo:function(e,t){Object(i["a"])({url:"/compre/compre/safeMonitor/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveSafeVideo:function(e,t){Object(i["a"])({url:"/compre/compre/safeMonitor/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateSafeVideo:function(e,t){Object(i["a"])({url:"/compre/compre/safeMonitor/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteSafeVideo:function(e,t){Object(i["a"])({url:"/compre/compre/safeMonitor/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageNetCenter:function(e,t){Object(i["a"])({url:"/compre/compre/netCenter/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveNetCenter:function(e,t){Object(i["a"])({url:"/compre/compre/netCenter/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateNetCenter:function(e,t){Object(i["a"])({url:"/compre/compre/netCenter/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteNetCenter:function(e,t){Object(i["a"])({url:"/compre/compre/netCenter/delete?id="+e,method:"post"}).then(function(e){t(e)})}});t["a"]=r},b2dd:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"charts-page"},[n("div",{staticClass:"top-card"},[n("techo-card",{attrs:{resizeEvent:"topCard",maxCard:!0,upLevel:e.isShowLevelBtu},on:{onUpLevel:function(t){e.handleUpLevel("byCode")}}},[n("div",{attrs:{slot:"header"},slot:"header"},[e._v("楼栋长人数分布")]),n("div",{staticStyle:{height:"100%"},attrs:{id:"TopBar"}})])],1),n("el-row",{staticClass:"bottom-card",attrs:{gutter:10}},[n("el-col",{attrs:{span:12}},[n("techo-card",{attrs:{resizeEvent:"leftCard",maxCard:!0,upLevel:e.isShowLevelBtu24},on:{onUpLevel:function(t){e.handleUpLevel("byCode24")}}},[n("div",{attrs:{slot:"header"},slot:"header"},[e._v("楼栋长管理建筑面积")]),n("div",{staticStyle:{height:"100%"},attrs:{id:"LeftBar"}})])],1),n("el-col",{attrs:{span:12}},[n("techo-card",{attrs:{resizeEvent:"rightCard",maxCard:!0}},[n("div",{attrs:{slot:"header"},slot:"header"},[e._v("楼栋长性别比例")]),n("div",{staticStyle:{height:"100%"},attrs:{id:"RightPie"}})])],1)],1)],1)},i=[],o=(n("ac6a"),n("7f7f"),n("1f8c")),r=n("dfc8"),c=n("6071"),d={data:function(){return{DISCODE:"6102",topBarOptions:{},topBarChart:null,leftBarOptions:{},leftBarChart:null,rightPieOptions:{},rightPieChart:null,byCode:"",isShowLevelBtu:!0,byCode24:"",isShowLevelBtu24:!0,COLORS:["#3965c3","#ffa639","#f75a51"]}},watch:{byCode:function(e){this.isShowLevelBtu=6!=e.length},byCode24:function(e){this.isShowLevelBtu24=6!=e.length}},mounted:function(){var e=this,t=this;this.topBarChart=this.$echarts.init(this.$el.querySelector("#TopBar")),this.leftBarChart=this.$echarts.init(this.$el.querySelector("#LeftBar")),this.rightPieChart=this.$echarts.init(this.$el.querySelector("#RightPie")),this.topBarChart.on("click",function(t){14!=e.byCode.length&&(e.getOrgData(t.data.rawdata.code),e.getOrgPieData(t.data.rawdata.code))}),this.leftBarChart.on("click",function(t){14!=e.byCode24.length&&e.getLevelOrgData(t.data.rawdata.code)}),this.$bus.$on("topCard",function(){t.topBarChart.resize()}),this.$bus.$on("leftCard",function(){t.leftBarChart.resize()}),this.$bus.$on("rightCard",function(){t.rightPieChart.resize()})},created:function(){this.getOrgData(),this.getLevelOrgData(),this.getOrgPieData()},methods:{getOrgData:function(e){var t=this,n={districtCode:e||this.DISCODE,entityName:"ViewCompreBuildLeader",fieldName:"buildingId"},a=this;this.topBarOptions=_.cloneDeep(o["a"]),c["a"].requestByEntityAndFieldSum(n,function(e){0!=e.length&&(t.byCode=e[0].code,t.topBarOptions.yAxis.name="楼栋长人数",t.topBarOptions.legend.data=["楼栋长"],a.topBarOptions.series=[{name:"楼栋长",type:"bar",itemStyle:{normal:{color:a.COLORS[0]}},barMaxWidth:80,data:[]}],_.map(e,function(e){a.topBarOptions.xAxis.data.push(e.name),a.topBarOptions.series[0].data.push({rawdata:e,value:e.sum})}),t.topBarChart.setOption(a.topBarOptions),t.topBarChart.resize())})},getLevelOrgData:function(e){var t=this,n={districtCode:e||this.DISCODE,entityName:"ViewCompreBuildLeader",fieldName:"coveredArea"},a=this;this.leftBarOptions=_.cloneDeep(o["a"]),c["a"].requestByEntityAndFieldSum(n,function(e){0!=e.length&&(t.byCode24=e[0].code,t.leftBarOptions.yAxis.name="建筑面积",t.leftBarOptions.legend.data=["建筑面积"],t.leftBarOptions.series=[{name:"建筑面积",type:"bar",itemStyle:{normal:{color:a.COLORS[0]}},barMaxWidth:80,data:[]}],_.map(e,function(e){a.leftBarOptions.xAxis.data.push(e.name),a.leftBarOptions.series[0].data.push({rawdata:e,value:e.sum})}),t.leftBarChart.setOption(a.leftBarOptions),t.leftBarChart.resize())})},getOrgPieData:function(e){var t={districtCode:e||this.DISCODE,entityName:"ViewCompreBuildLeader",fieldName:"sex"},n=this;this.rightPieOptions=_.cloneDeep(r["a"]),c["a"].requestByFieldName(t,function(e){n.rightPieOptions.legend.data=_.keys(_.groupBy(e,"name")),n.rightPieOptions.title.text=" ",n.rightPieOptions.series[0].name="网格化建设",_.map(e,function(e){n.rightPieOptions.series[0].data.push({name:e.name,value:e.count})}),n.rightPieOptions.series[0].radius="45%",n.rightPieOptions.series[0].center=["65%","50%"],n.rightPieChart.setOption(n.rightPieOptions),n.rightPieChart.resize()})},handleUpLevel:function(e){var t="";switch(this[e].length){case 9:t=this[e].slice(0,4);break;case 12:t=this[e].slice(0,6);break;case 14:t=this[e].slice(0,9);break;default:break}"byCode"==e?(this.getOrgData(t),this.getOrgPieData(t)):this.getLevelOrgData(t)}}},s=d,u=(n("4e01"),n("2877")),p=Object(u["a"])(s,a,i,!1,null,null,null);p.options.__file="building-leader.vue";t["default"]=p.exports},ba4a:function(e,t,n){"use strict";n("7f7f");var a=n("9bd2"),i={requestGridCode:function(e){Object(a["a"])({url:"/grid/rstu/find/all/code",method:"get"}).then(function(t){t.region=_.sortBy(t.region,"code");var n=constants.REGION.CODE,a={code:n,label:constants.REGION.NAME,children:[]},i={};switch(n&&n.length){case 4:i=_.map(t.region,function(e){return{code:e.code,label:e.name,children:[]}}),_.map(i,function(e){e.children=_.map(_.filter(t.street,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})}),_.map(i,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.community,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})})}),_.map(i,function(e){_.map(e.children,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})})})});break;case 6:i=_.map(_.filter(t.street,function(e){return e.code.indexOf(n)>=0}),function(e){return{code:e.code,label:e.name,children:[]}}),_.map(i,function(e){e.children=_.map(_.filter(t.community,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})}),_.map(i,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})})});break;case 9:i=_.map(_.filter(t.community,function(e){return e.code.indexOf(n)>=0}),function(e){return{code:e.code,label:e.name,children:[]}}),_.map(i,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})});break;case 12:i=_.map(_.filter(t.unit,function(e){return e.code.indexOf(n)>=0}),function(e){return{code:e.code,label:e.name}});break;default:break}a.children=i,e(a)})},requestDicCatalog:function(e){Object(a["a"])({url:"/buss/info/dictionary/catalog/findAll",method:"get"}).then(function(t){e(t)})},requestDicType:function(e,t){Object(a["a"])({url:"/buss/info/dictionary/findDicByCatalogId?catalogId="+e,method:"get"}).then(function(e){t(e)})},requestByEntityNames:function(e,t){Object(a["a"])({url:"/compre/statis/common/district?districtCode="+e.districtCode+"&entityNames="+e.entityNames,method:"get"}).then(function(e){t(e)})},requestByFieldName:function(e,t){Object(a["a"])({url:"/compre/statis/common/field?districtCode="+e.districtCode+"&entityName="+e.entityName+"&fieldName="+e.fieldName,method:"get"}).then(function(e){t(e)})},requestByEntityAndFieldSum:function(e,t){Object(a["a"])({url:"/compre/statis/common/district/field/sum?districtCode="+e.districtCode+"&entityName="+e.entityName+"&fieldName="+e.fieldName,method:"get"}).then(function(e){t(e)})},requestFocusPeople:function(e,t){Object(a["a"])({url:"/compre/hp/people/find/compreInfo?id="+e,method:"get"}).then(function(e){t(e)})},requestFocus:function(e,t){Object(a["a"])({url:"/compre/"+e.entity+"/find?id="+e.focusId,method:"get"}).then(function(e){t(e)})}};t["a"]=i},dfc8:function(e,t,n){"use strict";t["a"]={title:{x:"center",text:"",textStyle:{fontSize:16}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},color:["#3965c3","#ffa639","#f75a51","#FF6633","#FF9966","#FF6699","#FFFF66","#FF99FF","#FF3333","#CCCCFF","#CCCC33","#CC6666","#CC33CC","#CC00FF","#99CC66","#99CC00","#99FF33","#990066"],legend:{orient:"vertical",left:"left",data:[]},series:[{name:"",type:"pie",radius:"55%",center:["50%","50%"],label:{normal:{show:!0},emphasis:{show:!0}},lableLine:{normal:{show:!0},emphasis:{show:!0}},data:[]}]}}}]);
//# sourceMappingURL=chunk-5f1e.1d87fb50.js.map