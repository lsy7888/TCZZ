(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8c1d"],{6071:function(e,t,o){"use strict";o("7f7f");var i=o("c93e"),a=o("9bd2"),n=o("ba4a"),r=Object(i["a"])({},n["a"],{requestPageOrgList:function(e,t){Object(a["a"])({url:"/compre/compre/organization/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestOrgListByCode:function(e,t){Object(a["a"])({url:"/compre/compre/organization/findPage?&districtCode="+e,method:"get"}).then(function(e){t(e)})},requestSaveOrg:function(e,t){Object(a["a"])({url:"/compre/compre/organization/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateOrg:function(e,t){Object(a["a"])({url:"/compre/compre/organization/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteOrg:function(e,t){Object(a["a"])({url:"/compre/compre/organization/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageTeamList:function(e,t){Object(a["a"])({url:"/compre/compre/orgTeam/findPage?orgId="+e.orgId+"&districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveTeam:function(e,t){Object(a["a"])({url:"/compre/compre/orgTeam/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateTeam:function(e,t){Object(a["a"])({url:"/compre/compre/orgTeam/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteTeam:function(e,t){Object(a["a"])({url:"/compre/compre/orgTeam/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageGridList:function(e,t){Object(a["a"])({url:"/compre/compre/gridMsg/findPage?districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveGrid:function(e,t){Object(a["a"])({url:"/compre/compre/gridMsg/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateGrid:function(e,t){Object(a["a"])({url:"/compre/compre/gridMsg/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteGrid:function(e,t){Object(a["a"])({url:"/compre/compre/gridMsg/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageBuildLeader:function(e,t){Object(a["a"])({url:"/compre/compre/buildingLeader/findPage?districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveBuildLeader:function(e,t){Object(a["a"])({url:"/compre/compre/buildingLeader/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateBuildLeader:function(e,t){Object(a["a"])({url:"/compre/compre/buildingLeader/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteBuildLeader:function(e,t){Object(a["a"])({url:"/compre/compre/buildingLeader/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageLeaderDuty:function(e,t){Object(a["a"])({url:"/compre/compre/leadAcc/findPage?districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveLeaderDuty:function(e,t){Object(a["a"])({url:"/compre/compre/leadAcc/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateLeaderDuty:function(e,t){Object(a["a"])({url:"/compre/compre/leadAcc/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteLeaderDuty:function(e,t){Object(a["a"])({url:"/compre/compre/leadAcc/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageCase:function(e,t){Object(a["a"])({url:"/compre/compre/greatCase/findPage?districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveCase:function(e,t){Object(a["a"])({url:"/compre/compre/greatCase/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateCase:function(e,t){Object(a["a"])({url:"/compre/compre/greatCase/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteCase:function(e,t){Object(a["a"])({url:"/compre/compre/greatCase/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageOrgMassList:function(e,t){Object(a["a"])({url:"/compre/compre/prevent/findPage?districtCode="+e.districtCode+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestOrgMassListBycode:function(e,t){Object(a["a"])({url:"/compre/compre/prevent/findPage?districtCode="+e,method:"get"}).then(function(e){t(e)})},requestSaveOrgMass:function(e,t){Object(a["a"])({url:"/compre/compre/prevent/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateOrgMass:function(e,t){Object(a["a"])({url:"/compre/compre/prevent/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteOrgMass:function(e,t){Object(a["a"])({url:"/compre/compre/prevent/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageMassTeam:function(e,t){Object(a["a"])({url:"/compre/compre/prevent/team/findPage?districtCode="+e.districtCode+"&PeventId="+e.PeventId+"&name="+e.name+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveMassTeam:function(e,t){Object(a["a"])({url:"/compre/compre/prevent/team/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateMassTeam:function(e,t){Object(a["a"])({url:"/compre/compre/prevent/team/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteMassTeam:function(e,t){Object(a["a"])({url:"/compre/compre/prevent/team/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageCenter:function(e,t){Object(a["a"])({url:"/compre/compre/center/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveCenter:function(e,t){Object(a["a"])({url:"/compre/compre/center/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateCenter:function(e,t){Object(a["a"])({url:"/compre/compre/center/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteCenter:function(e,t){Object(a["a"])({url:"/compre/compre/center/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageSafeVideo:function(e,t){Object(a["a"])({url:"/compre/compre/safeMonitor/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveSafeVideo:function(e,t){Object(a["a"])({url:"/compre/compre/safeMonitor/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateSafeVideo:function(e,t){Object(a["a"])({url:"/compre/compre/safeMonitor/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteSafeVideo:function(e,t){Object(a["a"])({url:"/compre/compre/safeMonitor/delete?id="+e,method:"post"}).then(function(e){t(e)})},requestPageNetCenter:function(e,t){Object(a["a"])({url:"/compre/compre/netCenter/findPage?name="+e.name+"&districtCode="+e.districtCode+"&page="+e.page+"&pageSize="+e.pageSize,method:"get"}).then(function(e){t(e)})},requestSaveNetCenter:function(e,t){Object(a["a"])({url:"/compre/compre/netCenter/save",method:"post",data:e}).then(function(e){t(e)})},requestUpdateNetCenter:function(e,t){Object(a["a"])({url:"/compre/compre/netCenter/update",method:"post",data:e}).then(function(e){t(e)})},requestDeleteNetCenter:function(e,t){Object(a["a"])({url:"/compre/compre/netCenter/delete?id="+e,method:"post"}).then(function(e){t(e)})}});t["a"]=r},8316:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"table-list-page"},[o("techo-list",{ref:"list",attrs:{title:e.title,header:e.header,data:e.data,isShowCode:e.isShowCode,disCodeOption:e.disCodeOption,recordCount:e.recordCount},on:{onAdd:e.handleAdd,onPageChange:e.handlePageChange,onDelete:e.handleDelete,onView:e.handleView,onEdit:e.handleEdit,onTreeNode:e.handleTreeNode}},[o("div",{attrs:{slot:"header"},slot:"header"},[o("el-row",{staticClass:"techo-list__header-row",attrs:{type:"flex",justify:"space-around"}},[o("el-col",{attrs:{span:10}},[o("span",{staticClass:"techo-list__header-col-txt-4"},[e._v("楼栋长姓名：")]),o("div",{staticClass:"techo-list__header-col-left-4"},[o("el-input",{staticClass:"techo-list__header-select-full",attrs:{placeholder:"请输入楼栋长姓名",maxlength:10,size:"small",clearable:""},model:{value:e.queryForm.name,callback:function(t){e.$set(e.queryForm,"name",t)},expression:"queryForm.name"}})],1)]),o("el-col",{attrs:{span:9}}),o("el-col",{staticClass:"techo-list__header-col-button",attrs:{span:5}},[o("el-button",{staticClass:"techo-list__header-button-reset",attrs:{size:"small"},on:{click:e.handleClear}},[e._v("清空")]),o("el-button",{staticClass:"techo-list__header-button-query",attrs:{size:"small"},on:{click:e.handleQuery}},[e._v("查询")])],1)],1)],1)]),e.dlgVisible?o("techo-details",{ref:"details",attrs:{configKey:e.configKey,title:e.title}}):e._e(),o("vAddDialog",{ref:"vAddDialog",attrs:{disOption:e.disCodeOption}})],1)},a=[],n=(o("c5f6"),o("c93e")),r=o("6071"),l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{staticClass:"add-team-dialog",attrs:{title:e.title,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},close:e.resetForm}},[o("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"楼栋信息",name:"first"}},[o("el-form",{ref:"buildForm",attrs:{model:e.buildForm,rules:e.buildRules,"label-width":"100px"}},[o("el-row",{attrs:{gutter:15}},[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"行政区划",prop:"XZQ"}},[o("el-cascader",{attrs:{placeholder:"请选择行政区网格",options:e.disOption,filterable:"",clearable:"","change-on-select":"",props:{value:"code"}},model:{value:e.buildForm.XZQ,callback:function(t){e.$set(e.buildForm,"XZQ",t)},expression:"buildForm.XZQ"}})],1)],1)],1),o("el-row",{attrs:{gutter:15}},[o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"楼栋名称",prop:"buildingId"}},[o("el-select",{attrs:{placeholder:"请选择楼栋",clearable:""},on:{change:e.handleBuildByHouse},model:{value:e.buildForm.buildingId,callback:function(t){e.$set(e.buildForm,"buildingId",t)},expression:"buildForm.buildingId"}},e._l(e.buildOptions,function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1)],1),o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"单元数"}},[o("el-input",{attrs:{disabled:"",maxlength:3,placeholder:"请填写单元数"},model:{value:e.buildForm.elementsCount,callback:function(t){e.$set(e.buildForm,"elementsCount",t)},expression:"buildForm.elementsCount"}})],1)],1),o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"层数"}},[o("el-input",{attrs:{disabled:"",maxlength:3,placeholder:"请填写层数"},model:{value:e.buildForm.pliesCount,callback:function(t){e.$set(e.buildForm,"pliesCount",t)},expression:"buildForm.pliesCount"}})],1)],1)],1),o("el-row",{attrs:{gutter:15}},[o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"所在地"}},[o("el-select",{attrs:{placeholder:"请选择居住地",clearable:"",disabled:""},model:{value:e.buildForm.locality,callback:function(t){e.$set(e.buildForm,"locality",t)},expression:"buildForm.locality"}},e._l(e.dic["行政区划"],function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1)],1),o("el-col",{attrs:{span:16}},[o("el-form-item",{attrs:{label:"所在地详址"}},[o("el-input",{attrs:{placeholder:"请填写所在地详址"},model:{value:e.buildForm.localityDetail,callback:function(t){e.$set(e.buildForm,"localityDetail",t)},expression:"buildForm.localityDetail"}})],1)],1)],1)],1)],1),o("el-tab-pane",{attrs:{label:"楼栋长",name:"second"}},[o("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.teamRules,"label-width":"100px"}},[o("el-row",{attrs:{gutter:15}},[o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"小区名称",prop:"housingName"}},[o("el-input",{attrs:{placeholder:"请填写小区名称"},model:{value:e.dialogForm.housingName,callback:function(t){e.$set(e.dialogForm,"housingName",t)},expression:"dialogForm.housingName"}})],1),o("el-form-item",{attrs:{label:"建筑面积",prop:"coveredArea"}},[o("el-input",{attrs:{maxlength:8,placeholder:"请填写建筑面积"},model:{value:e.dialogForm.coveredArea,callback:function(t){e.$set(e.dialogForm,"coveredArea",t)},expression:"dialogForm.coveredArea"}})],1),o("el-form-item",{attrs:{label:"性别"}},[o("el-select",{attrs:{placeholder:"请选择性别",clearable:""},model:{value:e.dialogForm.sex,callback:function(t){e.$set(e.dialogForm,"sex",t)},expression:"dialogForm.sex"}},e._l(e.dic["性别"],function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1),o("el-form-item",{attrs:{label:"学历"}},[o("el-select",{attrs:{placeholder:"请选择机构",clearable:""},model:{value:e.dialogForm.education,callback:function(t){e.$set(e.dialogForm,"education",t)},expression:"dialogForm.education"}},e._l(e.dic["学历"],function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1)],1),o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"楼栋长姓名",prop:"name"}},[o("el-input",{attrs:{placeholder:"请填写楼栋长姓名"},model:{value:e.dialogForm.name,callback:function(t){e.$set(e.dialogForm,"name",t)},expression:"dialogForm.name"}})],1),o("el-form-item",{attrs:{label:"楼栋户数",prop:"buildingHouseCount"}},[o("el-input",{attrs:{maxlength:4,placeholder:"请填写楼栋户数"},model:{value:e.dialogForm.buildingHouseCount,callback:function(t){e.$set(e.dialogForm,"buildingHouseCount",t)},expression:"dialogForm.buildingHouseCount"}})],1),o("el-form-item",{attrs:{label:"民族"}},[o("el-select",{attrs:{placeholder:"请选择性别",clearable:""},model:{value:e.dialogForm.nation,callback:function(t){e.$set(e.dialogForm,"nation",t)},expression:"dialogForm.nation"}},e._l(e.dic["民族"],function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1),o("el-form-item",{attrs:{label:"出生日期"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:e.dialogForm.birth,callback:function(t){e.$set(e.dialogForm,"birth",t)},expression:"dialogForm.birth"}})],1)],1),o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"手机号码",prop:"phoneNumber"}},[o("el-input",{attrs:{placeholder:"请填写手机号码"},model:{value:e.dialogForm.phoneNumber,callback:function(t){e.$set(e.dialogForm,"phoneNumber",t)},expression:"dialogForm.phoneNumber"}})],1),o("el-form-item",{attrs:{label:"楼栋人数",prop:"buildingPeopleCount"}},[o("el-input",{attrs:{maxlength:5,placeholder:"请填写楼栋人数"},model:{value:e.dialogForm.buildingPeopleCount,callback:function(t){e.$set(e.dialogForm,"buildingPeopleCount",t)},expression:"dialogForm.buildingPeopleCount"}})],1),o("el-form-item",{attrs:{label:"政治面貌"}},[o("el-select",{attrs:{placeholder:"请选择政治面貌",clearable:""},model:{value:e.dialogForm.politicsStatus,callback:function(t){e.$set(e.dialogForm,"politicsStatus",t)},expression:"dialogForm.politicsStatus"}},e._l(e.dic["政治面貌"],function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1),o("el-form-item",{attrs:{label:"固定电话",prop:"telephoneNumber"}},[o("el-input",{attrs:{placeholder:"请填写固定电话"},model:{value:e.dialogForm.telephoneNumber,callback:function(t){e.$set(e.dialogForm,"telephoneNumber",t)},expression:"dialogForm.telephoneNumber"}})],1)],1)],1)],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["first"==e.activeName?o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.activeName="second"}}},[e._v("下一步")]):e._e(),"second"==e.activeName?o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.activeName="first"}}},[e._v("上一步")]):e._e(),"second"==e.activeName?o("el-button",{attrs:{type:"warning",size:"small"},on:{click:e.resetForm}},[e._v("取消")]):e._e(),"second"==e.activeName?o("el-button",{attrs:{type:"success",size:"small"},on:{click:e.submitForm}},[e._v("保存")]):e._e()],1)],1)},c=[],d=(o("7514"),o("7f7f"),o("ac6a"),{props:{disOption:{type:Array,default:[]}},data:function(){return{dialogVisible:!1,isAdd:!0,title:"",activeName:"first",dic:{"性别":[],"民族":[],"政治面貌":[],"学历":[],"行政区划":[]},buildForm:{XZQ:[],buildingId:"",elementsCount:"",pliesCount:"",localityDetail:"",locality:"610000"},buildRules:{XZQ:[{required:!0,message:"请选择行政区网格",trigger:"change"}],buildingId:[{required:!0,message:"请选择楼栋",trigger:"change"}]},buildOptions:[],dialogForm:{sex:"1",politicsStatus:"13",nation:"01",education:"20"},teamRules:{housingName:[{required:!0,message:"请输入小区名称",trigger:"blur"},{min:2,max:25,message:"长度在 2 到 25 个字符",trigger:"blur"}],name:[{required:!0,message:"请输入楼栋长姓名",trigger:"blur"},{min:2,max:12,message:"长度在 2 到 12 个字符",trigger:"blur"}],phoneNumber:[{required:!0,message:"请输入手机号码",trigger:"blur"},util.validate.valiTellPhone()],coveredArea:[util.validate.valiInteger()],buildingHouseCount:[util.validate.valiInteger()],buildingPeopleCount:[util.validate.valiInteger()],telephoneNumber:[util.validate.tellPhone()]}}},created:function(){var e=this;r["a"].requestDicCatalog(function(t){var o=_.keys(e.dic);_.map(t,function(t){-1!=_.indexOf(o,t.name)&&r["a"].requestDicType(t.id,function(o){e.dic[t.name]=o})})})},watch:{activeName:function(e){var t=this;"second"==e&&this.$refs["buildForm"].validate(function(e){e||t.$nextTick(function(){t.activeName="first"})})},"buildForm.XZQ":function(e){var t=this;this.buildOptions=[],0!=e.length&&void 0!=e[0]&&r["a"].requestCodeByBuild(_.last(e),function(e){t.buildOptions=e.list}),this.buildForm.buildingId="",this.buildForm.elementsCount="",this.buildForm.pliesCount="",this.buildForm.buildingName="",this.buildForm.localityDetail=""}},methods:{handleBuildByHouse:function(e){var t=this,o=_.find(this.buildOptions,function(t){return t.id==e});this.buildForm.elementsCount=o.unitCount,this.buildForm.pliesCount=o.floorCount,this.buildForm.buildingName=o.name,this.buildForm.districtCode=o.districtCode,r["a"].requestCodeByAddress(o.districtCode,function(e){t.buildForm.localityDetail=(e.belongname||"")+e.name+o.name})},submitForm:function(){var e=this;this.$refs["dialogForm"].validate(function(t){if(!t)return console.log("error submit!!"),!1;var o=Object(n["a"])({},_.cloneDeep(e.dialogForm),_.cloneDeep(e.buildForm));o.birth=o.birth&&util.time.formatDate(o.birth,"YYYY-MM-DD"),delete o.XZQ,o.dicMap&&delete o.dicMap,1==e.isAdd?r["a"].requestSaveBuildLeader(o,function(t){e.$popup.showNotification({type:"success",message:"楼栋长添加成功！"}),e.resetForm(),e.$parent.handleQuery()}):0==e.isAdd&&r["a"].requestUpdateBuildLeader(o,function(t){e.$popup.showNotification({type:"success",message:"楼栋长修改成功！"}),e.resetForm(),e.$parent.handleQuery()})})},resetForm:function(){this.$refs["buildForm"].resetFields(),this.$refs["dialogForm"].resetFields(),this.$data.dialogVisible=!1,this.isAdd=!0,this.activeName="first",this.buildForm={XZQ:[],buildingId:"",elementsCount:"",pliesCount:"",localityDetail:"",locality:"610000"},this.dialogForm={sex:"1",politicsStatus:"13",nation:"01",education:"20"}}}}),s=d,u=(o("fae2"),o("2877")),m=Object(u["a"])(s,l,c,!1,null,null,null);m.options.__file="building-leader-add.vue";var p=m.exports,f={components:{vAddDialog:p},data:function(){return{title:"楼栋长",queryForm:{districtCode:"",name:""},header:{"楼栋名称":"buildingName","楼栋长姓名":"name","手机号码":"phoneNumber","小区名称":"housingName","层数":"pliesCount","单元数":"elementsCount","楼栋户数":"buildingHouseCount"},data:[],recordCount:0,disCodeOption:[],isShowCode:["6102"],dlgVisible:!1,configKey:"buildLeader"}},mounted:function(){var e=this;r["a"].requestGridCode(function(t){e.disCodeOption=[t],e.isShowCode=[t.code],e.queryForm.districtCode=t.code})},watch:{queryForm:{handler:function(e,t){this.handleQuery()},deep:!0}},methods:{handleTreeNode:function(e){this.queryForm.districtCode=e.code},initGridData:function(e){var t=e||this.queryForm.districtCode,o=constants.REGION.CODE,i=[];switch(t.length){case 4:i=[e];break;case 6:i=[t.slice(0,4),t];break;case 9:i=[t.slice(0,4),t.slice(0,6),t];break;case 12:i=[t.slice(0,4),t.slice(0,6),t.slice(0,9),t];break;case 14:i=[t.slice(0,4),t.slice(0,6),t.slice(0,9),t.slice(0,12),t];break;default:break}switch(o.length){case 6:i=_.drop(i,1);break;case 9:i=_.drop(i,2);break;case 12:i=_.drop(i,3);break;case 14:i=_.drop(i,4);break;default:break}return i},handleAdd:function(){this.$refs["vAddDialog"].dialogVisible=!0,this.$refs["vAddDialog"].isAdd=!0,this.$refs["vAddDialog"].title="添加"+this.title,this.$refs["vAddDialog"].buildForm.XZQ=this.initGridData()},handleDelete:function(e){var t=this;this.$popup.showLoading("正在删除中，请稍候..."),new Promise(function(t,o){var i=0;_.map(e,function(o,a){r["a"].requestDeleteBuildLeader(o.id,function(o){i++,i==e.length&&t()})})}).then(function(){t.$popup.showNotification({type:"success",message:"楼栋长删除成功！"}),t.handleQuery(),t.$popup.closeLoading()}).catch(function(){t.$popup.showNotification({type:"warning",message:"楼栋长删除失败！"}),t.$popup.closeLoading()})},handlePageChange:function(){this.data=[],this.handleQuery()},handleView:function(e,t){this.dlgVisible=!0,this.$nextTick(function(){this.$refs["details"].data=t,this.$refs["details"].visible=!0})},handleEdit:function(e,t){this.$refs["vAddDialog"].dialogVisible=!0,this.$refs["vAddDialog"].isAdd=!1,this.$refs["vAddDialog"].title="修改"+this.title,this.$refs["vAddDialog"].buildForm=Object(n["a"])({XZQ:this.initGridData(t.districtCode),buildingId:Number(t.buildingId)},_.pick(_.cloneDeep(t),["elementsCount","pliesCount","localityDetail"])),this.$refs["vAddDialog"].dialogForm=_.cloneDeep(t)},handleClear:function(){this.queryForm={districtCode:constants.REGION.CODE,name:""}},handleQuery:function(){var e=this,t=this.$refs["list"].getPageInfo();t=Object(n["a"])({},t,_.cloneDeep(this.queryForm)),r["a"].requestPageBuildLeader(t,function(o){0!=o.totalCount&&0==o.list.length?(t.page=o.totalPage,r["a"].requestPageBuildLeader(t,function(t){e.recordCount=t.totalCount,e.data=t.list})):(e.recordCount=o.totalCount,e.data=o.list)})}}},h=f,g=Object(u["a"])(h,i,a,!1,null,null,null);g.options.__file="building-leader-list.vue";t["default"]=g.exports},9177:function(e,t,o){},ba4a:function(e,t,o){"use strict";o("7f7f");var i=o("9bd2"),a={requestGridCode:function(e){Object(i["a"])({url:"/grid/rstu/find/all/code",method:"get"}).then(function(t){t.region=_.sortBy(t.region,"code");var o=constants.REGION.CODE,i={code:o,label:constants.REGION.NAME,children:[]},a={};switch(o&&o.length){case 4:a=_.map(t.region,function(e){return{code:e.code,label:e.name,children:[]}}),_.map(a,function(e){e.children=_.map(_.filter(t.street,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})}),_.map(a,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.community,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})})}),_.map(a,function(e){_.map(e.children,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})})})});break;case 6:a=_.map(_.filter(t.street,function(e){return e.code.indexOf(o)>=0}),function(e){return{code:e.code,label:e.name,children:[]}}),_.map(a,function(e){e.children=_.map(_.filter(t.community,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name,children:[]}})}),_.map(a,function(e){_.map(e.children,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})})});break;case 9:a=_.map(_.filter(t.community,function(e){return e.code.indexOf(o)>=0}),function(e){return{code:e.code,label:e.name,children:[]}}),_.map(a,function(e){e.children=_.map(_.filter(t.unit,function(t){return t.code.indexOf(e.code)>=0}),function(e){return{code:e.code,label:e.name}})});break;case 12:a=_.map(_.filter(t.unit,function(e){return e.code.indexOf(o)>=0}),function(e){return{code:e.code,label:e.name}});break;default:break}i.children=a,e(i)})},requestDicCatalog:function(e){Object(i["a"])({url:"/buss/info/dictionary/catalog/findAll",method:"get"}).then(function(t){e(t)})},requestDicType:function(e,t){Object(i["a"])({url:"/buss/info/dictionary/findDicByCatalogId?catalogId="+e,method:"get"}).then(function(e){t(e)})},requestByEntityNames:function(e,t){Object(i["a"])({url:"/compre/statis/common/district?districtCode="+e.districtCode+"&entityNames="+e.entityNames,method:"get"}).then(function(e){t(e)})},requestByFieldName:function(e,t){Object(i["a"])({url:"/compre/statis/common/field?districtCode="+e.districtCode+"&entityName="+e.entityName+"&fieldName="+e.fieldName,method:"get"}).then(function(e){t(e)})},requestByEntityAndFieldSum:function(e,t){Object(i["a"])({url:"/compre/statis/common/district/field/sum?districtCode="+e.districtCode+"&entityName="+e.entityName+"&fieldName="+e.fieldName,method:"get"}).then(function(e){t(e)})},requestFocusPeople:function(e,t){Object(i["a"])({url:"/compre/hp/people/find/compreInfo?id="+e,method:"get"}).then(function(e){t(e)})},requestFocus:function(e,t){Object(i["a"])({url:"/compre/"+e.entity+"/find?id="+e.focusId,method:"get"}).then(function(e){t(e)})}};t["a"]=a},fae2:function(e,t,o){"use strict";var i=o("9177"),a=o.n(i);a.a}}]);
//# sourceMappingURL=chunk-8c1d.d3ae35b6.js.map